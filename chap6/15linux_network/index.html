
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob's 系统性能&Linux调优技术与实战教程">
      
      
        <meta name="author" content="Jacob Xi">
      
      
        <link rel="canonical" href="https://chao-xi.github.io/jxtechbook/chap6/15linux_network/">
      
      
        <link rel="prev" href="../14Linux_iptables/">
      
      
        <link rel="next" href="../../chap7/1Ms/">
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>L15 Linux网络基础与性能优化 - Jacob Performance&Linux Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#l15-linux" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob Performance&amp;Linux Book" class="md-header__button md-logo" aria-label="Jacob Performance&Linux Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob Performance&Linux Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              L15 Linux网络基础与性能优化
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxtechbook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxtechbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob Performance&amp;Linux Book" class="md-nav__button md-logo" aria-label="Jacob Performance&Linux Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob Performance&Linux Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxtechbook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxtechbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    系统基础设施优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            系统基础设施优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/1CPU_Cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 代码让CPU执行得更快 — CPU缓存
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/2Mem_Pool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 内存池提升内存分配的效率
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/3Hash_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 哈希表利用索引管理亿级对象
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/4PageCache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 磁盘高效地传输文件零拷贝：PageCache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/5Coroutine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 协程快速地实现高并发服务：Coroutine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/6Locks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 据业务场景选择合适的锁
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    系统层网络优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            系统层网络优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/1broadcast_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 一对多通讯如何实现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/2C10M/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 C10M是如何实现事件驱动
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/3tcp3shakehand/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 提升TCP三次握手的性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/4tcpshutdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 提升TCP四次挥手的性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/5tcpchachepool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 TCP缓冲区兼顾并发数量与传输速度
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/6tcpcongestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 调整TCP拥塞控制的性能
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    分布式系统优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            分布式系统优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/1Mon_perf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 通过监控找到性能瓶颈
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/2perf_cap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 舍弃一致性去换取性能的CAP理论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/3perf_akf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 AKF立方体可扩展性来提高性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/4perf_nwr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 NWR算法修改读写模型以提升性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/5nginx_openresty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 负载均衡：选择Nginx还是OpenResty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/6hash_consistent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 一致性哈希的均衡负载
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/7cache_expire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第七节 过期缓存防止缓存被流量打穿
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/8message_queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第八节 消息队列基于异步消息提升性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/9map_reduce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第九节 MapReduce通过集群实现离线计算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/10DB_choice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第十节 权衡关系数据库与NoSQL数据库
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IT运维面试问题总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            IT运维面试问题总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/1Linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 IT运维面试问题总结- Linux基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/2Linux_SVC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 IT运维面试问题总结-基础服务、磁盘管理、虚拟平台和系统管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/3Linux_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 IT运维面试问题总结-运维工具、开源应用(Ceph、Docker、Apache、Nginx等)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/4Linux_db_dia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 IT运维面试问题总结-数据库、监控、网络管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/5k8s_OpenShift/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 IT运维面试问题总结-简述Etcd、Kubernetes、Lvs、HAProxy等
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/6Py_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 Python面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/7Pro_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第七节 prometheus：要点总结及面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/8Data_ana_interview1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 Data Analyst Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/8Data_ana_interview2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第八节 分析岗笔试/面试知识点
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/9Data_ML_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 Top 50 Machine Learning Interview Questions & Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/10Deep_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L10 30 Frequently asked Deep Learning Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/11Redis_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L11 Redis 核心技术考题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/12ES_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L12 ES 期末考试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/13istio_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L13 Istio面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/14sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L14 SRE本质就是一个懂运维的资深开发
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/15prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L15 Top Prometheus Interview Questions and Answers (2022)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/16jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L16 Top Jenkins Interview Questions and Answers (2022)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/17devops_int2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L17 DevOps Engineer: 30+ Interview Questions and Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/18helm2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L18 Helm指南：Kubernetes包管理器简介
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python 面试题与总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Python 面试题与总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/1Apple_3sum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1、Apple Interview(3Sum)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/2Python_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2、Python Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/3GS_longest_substr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3、Longest substring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/4GS_remove_sort_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4、Remove duplicate in Sort List
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/5Sort_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5、Reverse Sort List
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/6RM_dup_dict/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6、Remove duplicate from dictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/7Find_max/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7、Find Maxmium number count in list and nth number
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/8gs_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8、GS Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/9Substring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9、Find substring inside String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/10reverse_string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10、Reverse String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/11zeroinN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11、Count how many zero in N!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/12JumpGame/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12、Jump Game
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/13Gs_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13、GS interview preparation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux 面试题与总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Linux 面试题与总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1Linux_perf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L1 1min 内对 Linux 进行性能诊断
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2Linux_load_avg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 当面试官问你load average时，怎么回答？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3Linux_inode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L3 文件系统inode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4Linux_ops_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L4 运维必须掌握的Linux面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5Linux_network_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L5 常见网络编程面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6Git_principle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L6 Git 实用技巧记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7LoadBalancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L7 深入浅出负载均衡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../8Linux_all/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 Linux 面试题 合集CDN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../9Linux_five/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 Linux面试最高频的5个基本问题（CPU+COMMMAND)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10haproxy_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L10 HAProxy从零开始到掌握
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12Linux_vir_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L12 从 lsof 开始，深入理解 Linux 虚拟文件系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_rew/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux review
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13Linux_ts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L13 Linux故障排查思路及常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14Linux_iptables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L14 Linux iptables命令详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    L15 Linux网络基础与性能优化
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    L15 Linux网络基础与性能优化
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 网络模型
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2 网络性能
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 常用的网络性能监控工具：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 常用的网络性能监控工具：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#netstat" class="md-nav__link">
    <span class="md-ellipsis">
      netstat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ifconfig" class="md-nav__link">
    <span class="md-ellipsis">
      ifconfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#route" class="md-nav__link">
    <span class="md-ellipsis">
      route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sar" class="md-nav__link">
    <span class="md-ellipsis">
      sar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nmap" class="md-nav__link">
    <span class="md-ellipsis">
      nmap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ping" class="md-nav__link">
    <span class="md-ellipsis">
      ping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iperf" class="md-nav__link">
    <span class="md-ellipsis">
      iperf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-socket" class="md-nav__link">
    <span class="md-ellipsis">
      4 [SOCKET]性能优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 [SOCKET]性能优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 选项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_reuseaddr" class="md-nav__link">
    <span class="md-ellipsis">
      SO_REUSEADDR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_nodelaytcp_chork" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_NODELAY/TCP_CHORK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP_NODELAY/TCP_CHORK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nagle" class="md-nav__link">
    <span class="md-ellipsis">
      Nagle 算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_nodelaytcp_chork_1" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_NODELAY/TCP_CHORK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_defer_accpt" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_DEFER_ACCPT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_keepalive" class="md-nav__link">
    <span class="md-ellipsis">
      SO_KEEPALIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_sndtimeo-so_rcvtimeo" class="md-nav__link">
    <span class="md-ellipsis">
      SO_SNDTIMEO &amp; SO_RCVTIMEO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      缓存大小
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backlog" class="md-nav__link">
    <span class="md-ellipsis">
      backlog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syn-syn-flood-attack" class="md-nav__link">
    <span class="md-ellipsis">
      SYN 洪水攻击 (syn flood attack)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      性能优化思路
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Companies Interview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Companies Interview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/1Ms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Microsoft Interview2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/2Ms_al/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Microsoft Interview Algorithm 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/3ubs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 UBS interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/4MorganS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Morgan Stanly 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/5apple/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Apple 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/6aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/7tesla/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Tesla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/my/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    My Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/int_anws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    架构师面试合集
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux 常用命令
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Linux 常用命令
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/0shell_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Shell命令行一些快捷键组合
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/0shell_linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Linux常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/16linux_ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Linux 实用运维命令 - Update
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/1shell_logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Shell 分析服务器日志命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/1log_man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Log: 用 awk + grep + sed搞定日志处理神器组合拳
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/2linux_locate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Linux 系统下查找文件命令总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/3devops_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Basic Shell Scripting for Devops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/4Basic_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 基本 shell 脚本 系统+文件+卷+时间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/5install_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Shell Package 安装+配置脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/6mon_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 监控 Shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/7net_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 网络+数据库 Shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/8secret_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8 Secret shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/9script_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9 Linux script 录播
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/10linux_unlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 使用 unlink 删除文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/11linux_ip_port/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 如何在 Linux 下限制端口仅对指定 IP 开放访问
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/12socat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 Linux 命令 socat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/14linux_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 Linux shell 脚本详解学习 2023
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/15grep_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15 使用grep分析日志
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/17file_opt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16 Linux File Operation (df/du/rsync/批量删除/定时备份)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/18linux_var/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17 Shell script中的8个常用的特殊变量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/19curl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    18 Curl的10个高级用法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/20shell_dir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    19 Shell脚本执行不再受限，不进入所在目录也能成功运行
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/21shell_eva/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20 Bash脚本多函数使用eval提高脚本编写效率！
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/22find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    21 使用find命令轻松查找文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/22find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    21 使用find命令轻松查找文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/24xargs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    23 xargs命令的使用技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/25shell_script/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    24 快速提升Shell脚本能力
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/26linux_zombie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    25 如何清理 Linux 僵尸进程？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/27Inode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    26 Linux inode 介绍与清理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/28vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    27 Vim 技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/29awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    28 Linux AWK 文本处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/30nohup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    29 nohup命令：在Linux中轻松实现后台运行和守护进程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/31ln/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    30 文件系统中的“分身术”ln命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/32Linux_logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    31 Linux 系统日志之深入解析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/33bash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    32 Linux 中 `.bashrc`、`.bash-profile` 和 `.profile` 之间的区别
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/34linux_6logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    33 6大Linux命令线上日志排查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/35port_detect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    34 未安装telnet 和 nc 等工具，如何测试端口是否开放
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/36dudf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    35 df命令显示磁盘空间不足而du命令显示还有很多空闲空间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/37linux_cond/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    36 Shell脚本的流程控制知识点汇总(2024)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bash Programming 技巧
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Bash Programming 技巧
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/1bash_prom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 简洁的 Bash Programming 技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/2bash_skill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 简洁的 Bash Programming 技巧续篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/3bash_skill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Bash Pitfalls: 编程易犯的错误（一）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/4bash_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 在Python中执行Linux Shell脚本
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AutoSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            AutoSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1autosys_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 AutoSys: A Beginner’s Guide AutoSys Workload Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1Autosys_tot1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Autosys Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/2Autosys_jil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Autosys JIL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/3Autosys_comp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Autosys Components, Configuration & Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/4Autosys_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Austosys command
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/5Autosys_job_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Manage Job in the Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/6autosys_vir_resouce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Autotsys virtual resource management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/7autosys_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Shell Script to check Autosys agent installed
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2025 - 面试准备
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            2025 - 面试准备
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/0intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025-Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/1cicd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 CI/CD 之路-GitOps 面试题合集
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/1Linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 典型Linux面试题 (Greg, wget, curl，Vim)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/2docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Docker面试10大必考题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/3kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Kubernetes 面试题精解：从入门到进阶(2025)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/4Linux_tb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Linux 系统故障时
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/5aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 AWS 面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/6monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 监控生态面试通关秘籍
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/7cri/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 从容器到调度：准备好这些 CRI 面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/8sap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8 SAP面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/9db_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9 数据库面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/10prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 Prometheus面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/11istio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 深度剖析 Istio (2025)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/12python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 Python Interview - Full
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/5jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 Jekins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/4python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SRE
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            SRE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/15Apple_SRE_prp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025 Apple SRE PRP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/1SRE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 SRE Interview Questions and Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/13tiktok/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 2025 最新字节跳动运维云原生面经分享
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/2Ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Ansible Interview Question
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/3linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 250 Linux Scenario Based Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/3kubernetes_sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Kubernetes SRE part1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/3kubernetes_sre2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Kubernetes SRE part2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/14git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Git Scenario-Based Questions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SRE-Tes-Prep
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            SRE-Tes-Prep
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/0interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 SRE 面试2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/1linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 SRE Linux All2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/2ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Ansible 从入门到放弃
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/15Apple_SRE_prp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025 Apple SRE PRP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/3git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 GIT CE TEST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/5jump_trade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Jump Trading Interview (code)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/1interview2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 interview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Prualsight
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Prualsight
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sreln/2Linux_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Linux Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sreln/1k8s_dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Using Kubernetes as a Developer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sre/4sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 SRE Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sreln/5agile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Agile Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2025/sreln/6cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Cloud Native Test
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    英语学习
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            英语学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Eng/1work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 职场英语
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 网络模型
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2 网络性能
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 常用的网络性能监控工具：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 常用的网络性能监控工具：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#netstat" class="md-nav__link">
    <span class="md-ellipsis">
      netstat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ifconfig" class="md-nav__link">
    <span class="md-ellipsis">
      ifconfig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#route" class="md-nav__link">
    <span class="md-ellipsis">
      route
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sar" class="md-nav__link">
    <span class="md-ellipsis">
      sar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nmap" class="md-nav__link">
    <span class="md-ellipsis">
      nmap
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ping" class="md-nav__link">
    <span class="md-ellipsis">
      ping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iperf" class="md-nav__link">
    <span class="md-ellipsis">
      iperf
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-socket" class="md-nav__link">
    <span class="md-ellipsis">
      4 [SOCKET]性能优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 [SOCKET]性能优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    <span class="md-ellipsis">
      TCP 选项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_reuseaddr" class="md-nav__link">
    <span class="md-ellipsis">
      SO_REUSEADDR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_nodelaytcp_chork" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_NODELAY/TCP_CHORK
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TCP_NODELAY/TCP_CHORK">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nagle" class="md-nav__link">
    <span class="md-ellipsis">
      Nagle 算法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_nodelaytcp_chork_1" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_NODELAY/TCP_CHORK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcp_defer_accpt" class="md-nav__link">
    <span class="md-ellipsis">
      TCP_DEFER_ACCPT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_keepalive" class="md-nav__link">
    <span class="md-ellipsis">
      SO_KEEPALIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#so_sndtimeo-so_rcvtimeo" class="md-nav__link">
    <span class="md-ellipsis">
      SO_SNDTIMEO &amp; SO_RCVTIMEO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      缓存大小
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backlog" class="md-nav__link">
    <span class="md-ellipsis">
      backlog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syn-syn-flood-attack" class="md-nav__link">
    <span class="md-ellipsis">
      SYN 洪水攻击 (syn flood attack)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      性能优化思路
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="l15-linux">L15 Linux网络基础与性能优化</h1>
<h2 id="1">1 网络模型</h2>
<blockquote>
<p>常见的有 OSI 网络模型、TCP/IP 网络模型、五层协议网络模型：</p>
</blockquote>
<p>OSI 七层网络模型：将传统的五层 TCP 模型中的应用层分为应用层、表示层、会话层</p>
<ul>
<li>应用层：负责为应用程序提供统一的接口</li>
<li>表示层：负责把数据转换成兼容接收系统的格式</li>
<li>会话层：负责维护计算机之间的通信连接，即负责在网络中的两节点之间建立、维持和终止通信</li>
<li>传输层：负责为数据加上传输表头，形成数据包</li>
<li>网络层：负责数据的路由和转发</li>
<li>数据链路层：负责 MAC 寻址、错误侦测和改错</li>
<li>物理层：负责在物理网络中传输数据帧</li>
</ul>
<p><strong>Linux 上使用的是 TCP/IP 网络模型，即四层网络模型：</strong></p>
<ul>
<li>应用层，负责向用户提供一组应用程序，比如 HTTP、FTP、DNS 等</li>
<li>传输层，负责端到端的通信，比如 TCP、UDP 等</li>
<li>网络层，负责网络包的封装、寻址和路由，比如 IP、ICMP 等</li>
<li>网络接口层，负责网络包在物理网络中的传输，比如 MAC 寻址、错误侦测以及通过网卡传输网络帧等</li>
</ul>
<p>在 TCP/IP 模型下，网络数据将逐层传递并处理:</p>
<p><img alt="Alt Image Text" src="../../images/chap6_15_1.png" title="Body image" /></p>
<h2 id="2">2 网络性能</h2>
<p>常用的网络[性能指标]：</p>
<ul>
<li><strong>带宽</strong>：表示链路的最大传输速率，单位通常为 b/s （比特 / 秒）</li>
<li><strong>吞吐量</strong>：表示单位时间内成功传输的数据量，单位通常为 b/s（比特 / 秒）或者 B/s（字节 / 秒）</li>
<li><strong>延时</strong>：表示从网络请求发出后，一直到收到远端响应，所需要的时间延迟。在不同场景中，这一指标可能会有不同含义。比如，它可以表示，建立连接需要的时间（比如 TCP 握手延时），或一个数据包往返所需的时间（比如 RTT）</li>
<li><strong>PPS</strong>：Packet Per Second（包 / 秒），表示以网络包为单位的传输速率。PPS 通常用来评估网络的转发能力基于 Linux 服务器的转发，则容易受网络包大小的影响。</li>
<li><strong>网络的可用性</strong>：网络正常通信</li>
<li><strong>并发连接数</strong>：TCP 可以连接多少</li>
<li><strong>丢包率</strong>：丢包占总包的比重</li>
<li><strong>重传率</strong>：重新传输的网络包比例</li>
</ul>
<h2 id="3">3 常用的网络性能监控工具：</h2>
<ul>
<li><strong>netstat</strong>：用于显示与 IP、TCP、UDP 和 ICMP 协议相关的统计数据，核心是显示套接字状态</li>
<li><strong>ifconfig</strong>：用于显示或配置网络设备（网络接口卡）信息</li>
<li><strong>route</strong>：用于显示和操作 IP 路由表，通过目标地址 ip 和子网掩码可以分析出发包路径</li>
<li><code>sar -n DEV</code>：显示网络信息，用 sar 分析网络更多的是用于流量和包量的检测和异常发现</li>
<li><strong>nmap</strong>：用于网络探测和安全审核的工具</li>
<li><strong>ss</strong>：查询网络的连接信息</li>
<li>ping：检测网络连通性</li>
</ul>
<p>简单介绍下各种工具的使用：</p>
<h3 id="netstat"><strong>netstat</strong></h3>
<p>用于显示与 IP、TCP、UDP 和 ICMP 协议相关的统计数据，核心是显示套接字状态</p>
<p>参数：-a 显示所有套接字 -n 不解析 DNS 名字 (解析 DNS 会比较慢) -t 过滤出 TCP 相关的网络套接字 -p 显示进程 / 程序名 -s 显示出协议栈中相关的一些统计信息</p>
<p>tips：现在常用 ss 替代，ss 的速度更快一些 -t 表示只显示 TCP 套接字 -n 表示显示数字地址和端 -p 表示显示进程信息</p>
<pre><code>#使用netstat查看tcp和udp的套接字信息
[root@ja /] netstat -antu
Active Internet connections (servers and established)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     
tcp        0      0 172.30.0.39:46522       169.254.0.55:5574       ESTABLISHED
tcp        0     36 172.30.0.39:22          163.177.68.30:3199      ESTABLISHED
udp        0      0 0.0.0.0:68              0.0.0.0:*                          
udp        0      0 0.0.0.0:68              0.0.0.0:*                          
udp        0      0 172.30.0.39:123         0.0.0.0:*                          
udp        0      0 127.0.0.1:123           0.0.0.0:*                          
udp        0      0 0.0.0.0:50844           0.0.0.0:*                          
udp6       0      0 fe80::5054:ff:fed2::123 :::*                               
udp6       0      0 ::1:123                 :::*    

#使用ss也可以达到同样的效果

[root@ja /] ss -ant
State      Recv-Q Send-Q             Local Address:Port              Peer Address:Port              
LISTEN     0      128                      *:22                             *:*                  
ESTAB      0      0                   172.30.0.39:46522              169.254.0.55:5574               
ESTAB      0      36                  172.30.0.39:22                 163.177.68.30:3199
</code></pre>
<p>用 <strong>netstat</strong> 查看更为详细的协议栈信息更加直观和详细：</p>
<pre><code>[root@ja /] netstat -s
Ip:
    16250019 total packets received
    0 forwarded
    0 incoming packets discarded
    16249365 incoming packets delivered
    17150794 requests sent out
    1784 dropped because of missing route
Icmp:
    3568568 ICMP messages received
    87 input ICMP message failed.
    ICMP input histogram:
        destination unreachable: 339
        timeout in transit: 107
        echo requests: 3567914
        echo replies: 202
        timestamp request: 2
    3568477 ICMP messages sent
    0 ICMP messages failed
    ICMP output histogram:
        destination unreachable: 109
        echo request: 420
        echo replies: 3567914
        timestamp replies: 2
....
Tcp:
    1462144 active connections openings
    208661 passive connection openings
    1787 failed connection attempts
    2493 connection resets received
    2 connections established
    12207346 segments received
    13063063 segments send out
    105967 segments retransmited
    14 bad segments received.
    148312 resets sent
    InCsumErrors: 14
</code></pre>
<h3 id="ifconfig">ifconfig</h3>
<blockquote>
<p>用于显示或配置网络设备（网络接口卡）信息 （现用 ip 相关命令替代，包括 ip link ip address 等）</p>
</blockquote>
<pre><code>#用ifconfig查看网卡信息
[root@ja /] ifconfig 
eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 172.30.0.39  netmask 255.255.240.0  broadcast 172.30.15.255
        inet6 fe80::5054:ff:fed2:e0d8  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 52:54:00:d2:e0:d8  txqueuelen 1000  (Ethernet)
        RX packets 16381686  bytes 1576456712 (1.4 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 17176768  bytes 2555718092 (2.3 GiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 19726  bytes 967210 (944.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 19726  bytes 967210 (944.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

&gt; 可以看到网络接口的状态标志、MTU 大小、IP、子网、MAC 地址以及网络包收发的统计信息

#ip命令是非常强大的，可以用ip addr替代ifconfig
[root@ja /] ip addr
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000
    link/ether 52:54:00:d2:e0:d8 brd ff:ff:ff:ff:ff:ff
    inet 172.30.0.39/20 brd 172.30.15.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::5054:ff:fed2:e0d8/64 scope link 
       valid_lft forever preferred_lft forever

# tips：   ip命令显示的LOWER_UP表示物理网络是联通的，ifconfig显示的是RUNNING，如果没有显示可能就是物理问题
</code></pre>
<p>ifconfig 的一些配置操作：</p>
<pre><code>#启动或者关闭指定网卡
ifconfig eth0 down   
ifconfig eth0 up
#修改MAC地址
ifconfig eth0 down //关闭网卡
ifconfig eth0 hw ether $MACaddress //修改MAC地址
ifconfig eth0 up //启动网卡
#配置IP地址
ifconfig eth0 $ipaddress netmask 255.255.255.0  // 给eth0网卡配置IP地址,并加上子掩码
#启用和关闭ARP协议
ifconfig eth0 arp  //开启
ifconfig eth0 -arp  //关闭
#设置最大传输单元
ifconfig eth0 mtu 1460 //设置能通过的最大数据包大小为 1460 bytes
</code></pre>
<h3 id="route">route</h3>
<p>用于显示和操作 IP 路由表，通过目标地址 ip 和子网掩码可以分析出发包路径 (现常用 ip route 替代) (补充：<code>ip rule show</code> 显示路由策略表，调整路由策略表可以设置路由转发策略)</p>
<pre><code>#用route查看路由表
[root@ja /] #route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         172.30.0.1      0.0.0.0         UG    0      0        0 eth0
172.30.0.0      0.0.0.0         255.255.240.0   U     0      0        0 eth0

#也可以用ip命令查看和操作IP路由的一些信息：
[root@ja /] ip route
default via 172.30.0.1 dev eth0 
172.30.0.0/20 dev eth0 proto kernel scope link src 172.30.0.39 
[root@jessy /] ip route show
default via 172.30.0.1 dev eth0 
172.30.0.0/20 dev eth0 proto kernel scope link src 172.30.0.39 
[root@jessy /] ip rule show
0: from all lookup local 
32766: from all lookup main 
32767: from all lookup default
</code></pre>
<blockquote>
<p>可以通过 route 去配置路由表：</p>
</blockquote>
<pre><code>route add -net 224.0.0.0 netmask 240.0.0.0 reject  #屏蔽一条路由
route del -net 224.0.0.0 netmask 240.0.0.0   #删除路由记录
route add default gw 192.168.120.240 #添加设置默认网关
</code></pre>
<h3 id="sar">sar</h3>
<p>sar 是一个优秀的一般性能监视工具，它可以输出 Linux 所完成的几乎所有工作的数据。sar 命令在 sysetat rpm 中提供。sar 可以显示 CPU、运行队列、磁盘 I/O、分页（交换区）、内存、CPU 中断、网络等性能数据</p>
<p>用 <code>sar -n DEV</code> 显示网络信息</p>
<pre><code>[root@ja /] sar -n DEV 1
Linux 3.10.0-1062.18.1.el7.x86_64 (jessy)  08/03/2020  _x86_64_ (4 CPU)

02:57:41 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
02:57:42 PM      eth0      4.00      2.00      0.21      0.21      0.00      0.00      0.00
02:57:42 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00

02:57:42 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
02:57:43 PM      eth0     10.00     10.00      0.80      1.32      0.00      0.00      0.00
02:57:43 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00

02:57:43 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
02:57:44 PM      eth0      8.00      8.00      0.61      1.43      0.00      0.00      0.00
02:57:44 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00

02:57:44 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s
02:57:45 PM      eth0      4.00      5.00      0.37      0.79      0.00      0.00      0.00
02:57:45 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00
</code></pre>
<p><img alt="Alt Image Text" src="../../images/chap6_15_2.png" title="Body image" /></p>
<p>用 sar 分析网络更多的是用于流量和包量的检测和异常发现。要更加详细分析细节还是 tcpdump+wireshark 方便</p>
<h3 id="nmap">nmap</h3>
<blockquote>
<p>一个用于网络探测和安全审核的工具，需要自行安装 (yum install nmap)</p>
</blockquote>
<p>常用来：</p>
<pre><code>nmap baidu.com

Starting Nmap 6.40 ( http://nmap.org ) at 2020-08-03 14:59 CST
Nmap scan report for baidu.com (39.156.69.79)
Host is up (0.042s latency).
Other addresses for baidu.com (not scanned): 220.181.38.148
Not shown: 998 filtered ports
PORT    STATE SERVICE
80/tcp  open  http
443/tcp open  https

Nmap done: 1 IP address (1 host up) scanned in 17.84 seconds
</code></pre>
<pre><code>nmap &lt;target ip1 address&gt; &lt;target ip2 address&gt; #快速扫描多个ip地址
nmap -p(range) &lt;target IP&gt;    #指定端口和范围
</code></pre>
<h3 id="ping">ping</h3>
<blockquote>
<p>ping 程序是<strong>测试另一个主机是否可达</strong>的常用程序，常用来测试远程主机的连通性和延时。</p>
<p>ping 程序的原理就是发送一个 ICMP 报文给主机，等待返回的 ICMP 回显应答。</p>
</blockquote>
<p>一些选项，包括 <code>-s</code> 设置包的大小，<code>-c</code> 设置 ping 的次数，<code>-t</code> 表示一直 ping 直至自己终止，<code>-R</code> 查看路由选项</p>
<pre><code>ping baidu.com
PING baidu.com (39.156.69.79) 56(84) bytes of data.
64 bytes from 39.156.69.79 (39.156.69.79): icmp_seq=1 ttl=47 time=41.9 ms
64 bytes from 39.156.69.79 (39.156.69.79): icmp_seq=2 ttl=47 time=41.9 ms
...
--- baidu.com ping statistics ---
8 packets transmitted, 8 received, 0% packet loss, time 10491ms
rtt min/avg/max/mdev = 41.915/41.930/41.967/0.271 ms
</code></pre>
<h3 id="iperf">iperf</h3>
<p>iperf 是常用的网络性能测试工具，用来测试 TCP 和 UDP 的吞吐量，以客户端和服务器通信的方式，测试一段时间内的平均吞吐量。</p>
<pre><code>#在服务器执行iperf
# -s 表示启动服务端，-i 表示汇报间隔，-p 表示监听端口
iperf3 -s 
#在客户端执行iperf
iperf3 -c 192.168.77.131 

[root@ja /] iperf3 -s -i 1 -p 12345
-----------------------------------------------------------
Server listening on 12345
-----------------------------------------------------------
Accepted connection from 172.30.0.39, port 49566
[  5] local 172.30.0.39 port 12345 connected to 172.30.0.39 port 49568
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-1.00   sec  5.23 GBytes  44.9 Gbits/sec                  
[  5]   1.00-2.00   sec  5.60 GBytes  48.1 Gbits/sec                  
[  5]   2.00-3.00   sec  5.10 GBytes  43.8 Gbits/sec                  
[  5]   3.00-4.00   sec  5.45 GBytes  46.8 Gbits/sec                  
[  5]   4.00-5.00   sec  4.84 GBytes  41.6 Gbits/sec                  
[  5]   5.00-6.00   sec  4.84 GBytes  41.6 Gbits/sec                  
[  5]   6.00-7.00   sec  4.93 GBytes  42.3 Gbits/sec                  
[  5]   7.00-8.00   sec  5.57 GBytes  47.8 Gbits/sec                  
[  5]   8.00-9.00   sec  5.85 GBytes  50.2 Gbits/sec                  
[  5]   9.00-10.00  sec  5.79 GBytes  49.7 Gbits/sec                  
[  5]  10.00-10.04  sec   274 MBytes  59.1 Gbits/sec                  
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  5]   0.00-10.04  sec  0.00 Bytes  0.00 bits/sec                  sender
[  5]   0.00-10.04  sec  53.4 GBytes  45.7 Gbits/sec                  receiver
-----------------------------------------------------------
Server listening on 12345
-----------------------------------------------------------
</code></pre>
<blockquote>
<p>可以看到机器的 TCP 吞吐量、带宽等信息，发送方也可以看到窗口大小、吞吐量、带宽等信息</p>
</blockquote>
<h2 id="4-socket">4 [SOCKET]性能优化</h2>
<blockquote>
<p>主要是 TCP 的头部选项部分和 socket 连接时的选项部分，根据复杂的网络环境进行选择会大大提升 socket 的性能。</p>
</blockquote>
<h3 id="tcp">TCP 选项</h3>
<p><code>SO_LINGER</code></p>
<blockquote>
<p><code>SO_LINGER</code> ：指定函数 close 对面向连接的协议如何操作，内核缺省 close 操作是立即返回，如果有数据残留在套接口缓冲区中则系统将试着将这些数据发送给对方。</p>
</blockquote>
<pre><code>struct linger {
     int l_onoff; /* 0 = off, nozero = on */
     int l_linger; /* linger time */
};
</code></pre>
<ul>
<li>设置 l_onoff 为 0，则关闭 linger，close 直接返回，未发送数据将由内核完成传输</li>
<li>设置 l_onoff 为非 0，l_linger 为 0，则打开 linger，则立即关闭该连接，通过发送 RST 分组 (而不是用正常的 FIN|ACK|FIN|ACK 四个分组) 来关闭该连接。如果发送缓冲区中如果有未发送完的数据，则丢弃。主动关闭一方的 TCP 状态则跳过 TIMEWAIT，直接进入 CLOSED</li>
<li>设置 l_onoff 为非 0，l_linger 为非 0，将连接的关闭设置一个超时。如果 socket 发送缓冲区中仍残留数据，进程进入睡眠，内核进入定时状态去尽量去发送这些数据。在超时之前，如果所有数据都发送完且被对方确认，内核用正常的 FIN|ACK|FIN|ACK 四个分组来关闭该连接，close() 成功返回。如果超时之时，数据仍然未能成功发送及被确认，用上面的方式来关闭此连接。close() 返回 EWOULDBLOCK</li>
</ul>
<blockquote>
<p>四次挥手断开连接主动关闭方会进入 TIME_WAIT 状态，TIME_WAIT 状态非常多的话会导致系统负载较大 (TIME_WAIT 本身不占用资源，但是处理 TIME_WAIT 需要耗费资源)，故可以通过设置打开 linger 则直接发送 RST 分组，这种情况不会产生 <code>TIME_WAIT</code>。</p>
<p>（TIPS:TIME_WAIT 状态太多，系统会进行回收和利用，因此，回收时是等待的时间最长的，故如果 TIME_WAIT 状态太多的话，就需要维护一个非常大的数据结构用来找等待时间最长的，会占据一定的系统计算资源）</p>
<p>对于 TIME_WAIT 过多也可以直接设置系统的最大 TIME_WAIT 数，将该数字调小一些。(会导致一些不太可靠的断开，不过对于减少服务器压力来说还是比较不错的方式，只是会令客户端断开连接更慢一些，客户端通常是一个主机，维持连接较少，一个较长的断开影响不大)</p>
</blockquote>
<h3 id="so_reuseaddr"><code>SO_REUSEADDR</code></h3>
<p>通常一个端口释放后会等待两分钟 (TIME_WAIT 时间) 之后才能再被使用，SO_REUSEADDR 是让端口释放后立即就可以被再次使用。</p>
<p>SO_REUSEADDR 用于对 TCP 套接字处于 TIME_WAIT 状态下的 socket，才可以重复绑定使用。server 程序总是应该在调用 bind() 之前设置 SO_REUSEADDR 套接字选项。在 TCP 连接中，主动关闭方会进入 TIME_WAIT 状态，因此这个功能也就是主动方收到被动方发送的 FIN 后，发送 ACK 后就可以断开连接，不再去处理该 ACK 丢失等情况。</p>
<p>也就是说，这个套接字选项向内核传达了该消息：如果这个端口被占用但是 TCP 状态位于 <code>TIME_WAIT</code> ，则可以重用端口。而如果端口忙，而 TCP 状态位于其他状态，那么重用端口时依旧得到一个错误信息，指明 "地址已经使用中"。如果想要让服务程序停止后就可以立即重用，并且使用的端口还是这个端口，那么设置 <code>SO_REUSEADDR</code> 选项将非常有必要。总体来说，对于需要维持大量 TCP 连接的服务器可以设置这个选项，因为可能会存在大量的 <code>TIME_WAIT</code> 状态 (尤其是 HTTP 服务通常是服务器充当主动断开一方)，设置该选项就很有必要，毕竟最糟糕的情况下基本是客户端的断开慢一些，影响也不是非常大 (客户机通常不需要大量的 TCP 连接需要)</p>
<h3 id="tcp_nodelaytcp_chork"><code>TCP_NODELAY/TCP_CHORK</code></h3>
<h4 id="nagle">Nagle 算法</h4>
<p>Nagle 算法针对的是需要连续发送多个小数据包的情况下，发送的有效数据相较于头部太小，因此发送的效率过低，甚至可能导致网络阻塞。Nagle 算法可以减少网络中小的数据包的数量，从而降低网络的拥塞程度。最常见的 Nagle 算法的例子就是 Telnet 程序，用户在控制台的每次击键都会发送一个数据包，这个包通常包含 41 个字节，然而只有一个字节是有效负载，其余 40 个字节都是报头，如果每次击键都发送一个报文，那就会造成了巨大的开销。为了减小这种开销，Nagle 算法规定，当 TCP 发送了一个小的 segment（小于 MSS），它必须等到接收到对方的 ACK 之后，才能继续发送另一个小的 segment，因此发送方将第一个小包发出去后，将后面到达的少量字符数据都缓存起来而不立即发送，直到收到上一个数据包的 ACK 或者 当前字符属于紧急数据 或者 缓存的字符数据已经到达一定的长度。Nagle 算法并非灵丹妙药，它会增加 TCP 发送数据的延迟。在一些要求低延迟的应用程序中（例如即时通讯应用），Nagle 算法的规定是不易被接受的，因此需要设置 <code>TCP_NODELAY</code> 或者 <code>TCP_CHORK</code> 关闭 Nagle 算法。</p>
<p>TIPS: TCP 的延迟 ACK 与 Nagle 算法有异曲同工之妙，延迟 ACK：当 TCP 接收到数据时，并不会立即发送 ACK 给对方，相反，它会等待应用层产生数据，然后将 ACK 和数据一起发送，并且发送的 ACK 序号为将可能会是更大的 ACK 序号（在 Linux 的最多等待 40 毫秒）（ACK 序号表示该序号之前的报文已经收到，故等待期间可能又收到了部分报文，最终只需要发送一个最大的 ACK 序号即可表示之前的都收到了）</p>
<h3 id="tcp_nodelaytcp_chork_1"><code>TCP_NODELAY/TCP_CHORK</code></h3>
<p><code>TCP_NODELAY</code> 和 <code>TCP_CHORK</code> 都禁掉了 Nagle 算法，行为需求有些不同：</p>
<ul>
<li><code>TCP_NODELAY</code> 不使用 Nagle 算法，不会将小包进行拼接成大包再进行发送，而是直接将小包发送出去</li>
<li><code>TCP_CORK</code> 适用于需要传送大量数据时，可以提高 TCP 的发行效率。设置 <code>TCP_CORK</code> 后将每次尽量发送最大的数据量，当然也有一个阻塞时间，当阻塞时间到的时候数据会自动传送</li>
</ul>
<h3 id="tcp_defer_accpt"><strong><code>TCP_DEFER_ACCPT</code></strong></h3>
<p>推迟接收，设置该选项后，服务器接收到第一个数据后，才会建立连接。(可以用来防范空连接攻击)</p>
<p>当设置该选项后，服务器收到 connect 完成 3 次握手后，服务器仍然是 <code>SYN_RECV</code>，而不是 ESTABLISHED 状态，操作系统不会接收数据，直至收到一个数据才会进行 ESTABLISHED 状态。因此如果客户一直没有发送数据，则服务器会重传 SYN/ACK 报文，会有重传次数和超时值的限制。</p>
<h3 id="so_keepalive"><strong><code>SO_KEEPALIVE</code></strong></h3>
<p><code>SO_KEEPALIVE</code> 保持连接检测对方主机是否崩溃，避免（服务器）永远阻塞于 TCP 连接的输入。</p>
<p>设置该选项后，如果 2 小时内在此套接口的任一方向都没有数据交换，TCP 就自动给对方 发一个保持存活探测分节 (keepalive probe)。这是一个对方必须响应的 TCP 分节. 它会导致以下三种情况：</p>
<ul>
<li>对方接收一切正常：以期望的 ACK 响应，2 小时后，TCP 将发出另一个探测分节</li>
<li>对方已崩溃且已重新启动：以 RST 响应。套接口的待处理错误被置为 ECONNRESET，套接 口本身则被关闭。</li>
<li>对方无任何响应：源自 berkeley 的 TCP 发送另外 8 个探测分节，相隔 75 秒一个，试图得到一个响应。在发出第一个探测分节 11 分钟 15 秒后若仍无响应就放弃。套接口的待处理错误被置为 ETIMEOUT，套接口本身则被关闭。如 ICMP 错误是 “host unreachable(主机不可达)”，说明对方主机并没有崩溃，但是不可达，这种情况下待处理错误被置为 EHOSTUNREACH。</li>
</ul>
<p>有关 <code>SO_KEEPALIVE</code> 的三个参数详细解释如下:</p>
<ul>
<li><code>tcp_keepalive_intvl</code>，保活探测消息的发送频率。默认值为 75s。</li>
<li><code>tcp_keepalive_probes</code>，TCP 发送保活探测消息以确定连接是否已断开的次数。默认值为 9</li>
<li><code>tcp_keepalive_time</code>，在 TCP 保活打开的情况下，最后一次数据交换到 TCP 发送第一个保活探测消息的时间，即允许的持续空闲时间。默认值为 7200s（2h）。</li>
</ul>
<h3 id="so_sndtimeo-so_rcvtimeo"><code>SO_SNDTIMEO &amp; SO_RCVTIMEO</code></h3>
<p><code>SO_RCVTIMEO</code> 和 <code>SO_SNDTIMEO</code> ，它们分别用来设置 socket 接收数据超时时间和发送数据超时时间。</p>
<p>因此，这两个选项仅对与数据收发相关的系统调用有效。接收超时会影响 read、readv、recv、recvfrom、recvmsg 的状态，发送超时会影响 write、writev、send、sendto 和 sendmsg 的状态。</p>
<h3 id="_1">缓存大小</h3>
<p><code>SO_RCVBUF</code> 和 <code>SO_SNDBUF</code>：设置的是 Socket 缓存大小，缓存大小会影响套接字的的性能</p>
<ul>
<li><code>SO_SNDBUF</code>：TCP 发送缓冲区的容量上限；</li>
<li><code>SO_RCVBUF</code>：TCP 接受缓冲区的容量上限；</li>
<li>接收端缓冲区，缓存了远端发过来的数据。如果缓冲区已满，就不能再接收新的数据</li>
<li>写缓冲区，缓存了要发出去的数据。如果写缓冲区已满，应用程序的写操作就会被阻塞</li>
</ul>
<p>proc 目录下的 SOCKET 缓存参数路径为：</p>
<pre><code>/proc/sys/net/core/rmem_default
/proc/sys/net/core/rmem_max
/proc/sys/net/core/wmem_default
/proc/sys/net/core/wmem_max
</code></pre>
<p>调大缓存理论上是会提升 Socket 传输速率的，但是，并不是总是这样。缓存是一个只有在发送方和接收方的性能差异比较大时缓存会产生影响。还要补充的是，对于 TCP 连接而言，真正的传输过程是依赖于发送方和接收方两方的窗口大小的，因此单单调大发送方缓存并不会对整体产生明显影响。</p>
<p>在大延时网络上的带宽利用率低，主要原因是延时变大之后，发送方发的数据不能及时到达接收方。导致发送缓存满之后，不能再持续发送数据。接收方则因为 TCP 通告窗口受到接收方剩余缓存大小的影响。接收缓存小的话，则会通告对方发送窗口变小。进而影响发送方不能以大窗口发送数据。所以，这里的调优思路应该是，发送方调大 tcp_wmem，接收方调大 tcp_rmem。</p>
<p>如果网络的环境比较差，即丢包率比较高，那么会发现哪怕调高发送和接收双方的缓存大小，也无法提升整体的传输速率，主要原因是由于丢包比较高，因此网络比较拥塞，会频繁引发慢启动，使得真正的窗口瓶颈并不在于缓存的大小，甚至一直难以到达一个较大的值。这种情况下，可以考虑采用不同的拥塞控制算法，bbr 算法对丢包不敏感，因此在这种情况下如果采用 bbr 拥塞控制算法将使得整个网络性能较高。如果网络的丢包很少延时很大，那么调整拥塞控制算法也不会由明显提升，此时主要瓶颈就是缓存。</p>
<p>为了提高网络的吞吐量，通常需要调整这些缓冲区的大小：</p>
<ul>
<li>增大每个套接字的缓冲区大小 <code>net.core.optmem_max</code>；</li>
<li>增大套接字接收缓冲区大小 <code>net.core.rmem_max</code> 和发送缓冲区大小 <code>net.core.wmem_max</code>；</li>
<li>增大 TCP 接收缓冲区大小 <code>net.ipv4.tcp_rmem</code> 和发送缓冲区大小 <code>net.ipv4.tcp_wmem</code></li>
</ul>
<h3 id="backlog"><strong>backlog</strong></h3>
<p>TCP socket 服务的 4 个步骤 <code>socket-&gt;bind-&gt;listen-&gt;accept</code></p>
<blockquote>
<p>在调用 listen 函数时, 有一个 backlog 参数. 在 Linux 中 backlog 表示已完成 (ESTABLISHED) 且未 accept 的队列大小.</p>
</blockquote>
<pre><code>int listen(int sockfd, int backlog);
</code></pre>
<p>TCP 建立连接过程：服务器收到客户端 SYN 包, 发送 SYN+ACK 包后, 在内存创建一个状态为 SYN_RCVD 的连接, 放入未完成队列, 这个队列的大小可通过 <code>/ proc/sys/net/ipv4/tcp_max_syn_backlog</code> 设置. 服务器收到客户端的 ACK 包后, 该连接的状态由 SYN_RCVD 改为 <code>ESTABLISHED</code>, 并移到已完成队列.</p>
<p>服务器程序调用 accept 后, 该连接移除已完成队列, 由内核交给程序控制.</p>
<p>（在第二次握手完成后服务器已经将该连接放入了半连接队列，当第三次握手成功后放入了全连接队列，当 accept 进程被调用后，该连接被调走由内核管理）</p>
<p>backlog 就是指定全连接队列的大小，如果全连接队列队列满了并且 <code>tcp_abort_on_overflow</code> 是 0 的话，server 过一段时间再次发送 syn+ack 给 client，如果 client 超时等待比较短，就会很容易导致异常。(<code>tcp_abort_on_overflow</code>为 0 表示如果三次握手第三步的时候全连接队列满了那么 server 扔掉 client 发过来的 ack), 因此如果 backlog 太小的话会导致全连接队列容易满，从而 TCP 连接建立失败。</p>
<p><img alt="Alt Image Text" src="../../images/chap6_15_3.png" title="Body image" /></p>
<p>设置 backlog 后，系统会和 <code>/ proc/sys/net/core/somaxconn</code> 比较，取较小值作为真正的 backlog</p>
<p>当已连接队列满后，如果设置 <code>tcp_abort_on_overflow</code> 为 0 表示如果三次握手第三步的时候全连接队列满了那么 server 扔掉 client 发过来的 ack</p>
<p>当半连接队列满后，如果启用 <code>syncookies (net.ipv4.tcp_syncookies = 1)</code>, 新的连接不进入未完成队列, 不受影响. 否则, 服务器不在接受新的连接.</p>
<h3 id="syn-syn-flood-attack">SYN 洪水攻击 (syn flood attack)</h3>
<p>通过伪造 IP 向服务器发送 SYN 包, 塞满服务器的未完成队列, 服务器发送 SYN+ACK 包 没回复, 反复 SYN+ACK 包, 使服务器不可用. 启用 syncookies 是简单有效的抵御措施. 仅未完成队列满后才生效.</p>
<p>SYN 洪水攻击导致被攻击服务器保持大量 <code>SYN_RECV</code>状态的 “半连接”，并且会重试默认 5 次回应第二个握手包，塞满 TCP 等待连接队列，资源耗尽（CPU 满负荷或内存不足），让正常的业务请求连接不进来</p>
<h3 id="_2">性能优化思路</h3>
<p>从网络 I/O 的角度来说，有如下思路：</p>
<ul>
<li>I/O 多路复用技术 epoll，主要用来取代 select 和 poll</li>
<li>异步 I/O 技术。异步 IO 允许应用程序同时发起很多 I/O 操作，而不用等待这些操作完成，等到 I/O 完成后，系统会用事件通知的方式，告诉应用程序结果</li>
</ul>
<p>从进程的工作模型来说，有如下思路：</p>
<ul>
<li>主进程 + 多个 worker 子进程。其中，主进程负责管理网络连接，而子进程负责实际的业务处理</li>
<li>监听到相同端口的多进程模型，即负载均衡策略。所有进程都会监听相同接口，并且开启 <code>SO_REUSEPORT</code> 选项，由内核负责，把请求负载均衡到这些监听进程中去</li>
</ul>
<p><strong>应用层的网络协议优化思路：</strong></p>
<ul>
<li>在每秒请求次数较多时并且连接通常是连续时，使用长连接取代短连接，可以显著降低 TCP 建立连接的成本</li>
<li>使用内存等方式，来缓存不常变化的数据，可以降低网络 I/O 次数，同时加快应用程序的响应速度</li>
<li>使用 Protocol Buffer 等序列化的方式，压缩网络 I/O 的数据量，可以提高应用程序的吞吐</li>
<li>使用 DNS 缓存、预取、HTTPDNS 等方式，减少 DNS 解析的延迟，也可以提升网络 I/O 的整体速度</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>