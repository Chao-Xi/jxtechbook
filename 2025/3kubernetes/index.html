
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob's 系统性能&Linux调优技术与实战教程">
      
      
        <meta name="author" content="Jacob Xi">
      
      
        <link rel="canonical" href="https://chao-xi.github.io/jxtechbook/2025/3kubernetes/">
      
      
        <link rel="prev" href="../2docker/">
      
      
        <link rel="next" href="../4Linux_tb/">
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>3 Kubernetes 面试题精解：从入门到进阶(2025) - Jacob Performance&Linux Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kubernetes-2025-" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob Performance&amp;Linux Book" class="md-header__button md-logo" aria-label="Jacob Performance&Linux Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob Performance&Linux Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3 Kubernetes 面试题精解：从入门到进阶(2025)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxtechbook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxtechbook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob Performance&amp;Linux Book" class="md-nav__button md-logo" aria-label="Jacob Performance&Linux Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob Performance&Linux Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxtechbook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxtechbook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    系统基础设施优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            系统基础设施优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/1CPU_Cache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 代码让CPU执行得更快 — CPU缓存
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/2Mem_Pool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 内存池提升内存分配的效率
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/3Hash_index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 哈希表利用索引管理亿级对象
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/4PageCache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 磁盘高效地传输文件零拷贝：PageCache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/5Coroutine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 协程快速地实现高并发服务：Coroutine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/6Locks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 据业务场景选择合适的锁
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    系统层网络优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            系统层网络优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/1broadcast_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 一对多通讯如何实现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/2C10M/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 C10M是如何实现事件驱动
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/3tcp3shakehand/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 提升TCP三次握手的性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/4tcpshutdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 提升TCP四次挥手的性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/5tcpchachepool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 TCP缓冲区兼顾并发数量与传输速度
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/6tcpcongestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 调整TCP拥塞控制的性能
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    分布式系统优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            分布式系统优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/1Mon_perf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 通过监控找到性能瓶颈
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/2perf_cap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 舍弃一致性去换取性能的CAP理论
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/3perf_akf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 AKF立方体可扩展性来提高性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/4perf_nwr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 NWR算法修改读写模型以提升性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/5nginx_openresty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 负载均衡：选择Nginx还是OpenResty
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/6hash_consistent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 一致性哈希的均衡负载
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/7cache_expire/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第七节 过期缓存防止缓存被流量打穿
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/8message_queue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第八节 消息队列基于异步消息提升性能
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/9map_reduce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第九节 MapReduce通过集群实现离线计算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/10DB_choice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第十节 权衡关系数据库与NoSQL数据库
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IT运维面试问题总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            IT运维面试问题总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/1Linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一节 IT运维面试问题总结- Linux基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/2Linux_SVC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第二节 IT运维面试问题总结-基础服务、磁盘管理、虚拟平台和系统管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/3Linux_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第三节 IT运维面试问题总结-运维工具、开源应用(Ceph、Docker、Apache、Nginx等)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/4Linux_db_dia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第四节 IT运维面试问题总结-数据库、监控、网络管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/5k8s_OpenShift/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第五节 IT运维面试问题总结-简述Etcd、Kubernetes、Lvs、HAProxy等
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/6Py_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第六节 Python面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/7Pro_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第七节 prometheus：要点总结及面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/8Data_ana_interview1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 Data Analyst Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/8Data_ana_interview2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第八节 分析岗笔试/面试知识点
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/9Data_ML_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 Top 50 Machine Learning Interview Questions & Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/10Deep_learning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L10 30 Frequently asked Deep Learning Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/11Redis_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L11 Redis 核心技术考题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/12ES_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L12 ES 期末考试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/13istio_rev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L13 Istio面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/14sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L14 SRE本质就是一个懂运维的资深开发
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/15prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L15 Top Prometheus Interview Questions and Answers (2022)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/16jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L16 Top Jenkins Interview Questions and Answers (2022)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/17devops_int2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L17 DevOps Engineer: 30+ Interview Questions and Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/18helm2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L18 Helm指南：Kubernetes包管理器简介
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python 面试题与总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Python 面试题与总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/1Apple_3sum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1、Apple Interview(3Sum)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/2Python_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2、Python Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/3GS_longest_substr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3、Longest substring
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/4GS_remove_sort_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4、Remove duplicate in Sort List
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/5Sort_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5、Reverse Sort List
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/6RM_dup_dict/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6、Remove duplicate from dictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/7Find_max/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7、Find Maxmium number count in list and nth number
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/8gs_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8、GS Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/9Substring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9、Find substring inside String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/10reverse_string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10、Reverse String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/11zeroinN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11、Count how many zero in N!
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/12JumpGame/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12、Jump Game
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/13Gs_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13、GS interview preparation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux 面试题与总结
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Linux 面试题与总结
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/1Linux_perf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L1 1min 内对 Linux 进行性能诊断
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/2Linux_load_avg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 当面试官问你load average时，怎么回答？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/3Linux_inode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L3 文件系统inode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/4Linux_ops_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L4 运维必须掌握的Linux面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/5Linux_network_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L5 常见网络编程面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/6Git_principle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L6 Git 实用技巧记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/7LoadBalancer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L7 深入浅出负载均衡
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/8Linux_all/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L8 Linux 面试题 合集CDN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/9Linux_five/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L9 Linux面试最高频的5个基本问题（CPU+COMMMAND)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/10haproxy_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L10 HAProxy从零开始到掌握
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/12Linux_vir_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L12 从 lsof 开始，深入理解 Linux 虚拟文件系统
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/linux_rew/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux review
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/13Linux_ts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L13 Linux故障排查思路及常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/14Linux_iptables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L14 Linux iptables命令详解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap6/15linux_network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L15 Linux网络基础与性能优化
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Companies Interview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Companies Interview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/1Ms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Microsoft Interview2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/2Ms_al/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Microsoft Interview Algorithm 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/3ubs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 UBS interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/4MorganS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Morgan Stanly 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/5apple/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Apple 2021
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/6aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/7tesla/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Tesla
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/my/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    My Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap7/int_anws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    架构师面试合集
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux 常用命令
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Linux 常用命令
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/0shell_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Shell命令行一些快捷键组合
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/0shell_linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Linux常用命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/16linux_ops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 Linux 实用运维命令 - Update
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/1shell_logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Shell 分析服务器日志命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/1log_man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Log: 用 awk + grep + sed搞定日志处理神器组合拳
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/2linux_locate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Linux 系统下查找文件命令总结
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/3devops_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Basic Shell Scripting for Devops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/4Basic_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 基本 shell 脚本 系统+文件+卷+时间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/5install_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Shell Package 安装+配置脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/6mon_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 监控 Shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/7net_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 网络+数据库 Shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/8secret_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8 Secret shell 脚本
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/9script_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9 Linux script 录播
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/10linux_unlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 使用 unlink 删除文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/11linux_ip_port/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 如何在 Linux 下限制端口仅对指定 IP 开放访问
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/12socat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 Linux 命令 socat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/14linux_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14 Linux shell 脚本详解学习 2023
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/15grep_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15 使用grep分析日志
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/17file_opt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16 Linux File Operation (df/du/rsync/批量删除/定时备份)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/18linux_var/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17 Shell script中的8个常用的特殊变量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/19curl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    18 Curl的10个高级用法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/20shell_dir/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    19 Shell脚本执行不再受限，不进入所在目录也能成功运行
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/21shell_eva/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20 Bash脚本多函数使用eval提高脚本编写效率！
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/22find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    21 使用find命令轻松查找文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/22find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    21 使用find命令轻松查找文件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/24xargs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    23 xargs命令的使用技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/25shell_script/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    24 快速提升Shell脚本能力
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/26linux_zombie/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    25 如何清理 Linux 僵尸进程？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/27Inode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    26 Linux inode 介绍与清理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/28vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    27 Vim 技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/29awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    28 Linux AWK 文本处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/30nohup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    29 nohup命令：在Linux中轻松实现后台运行和守护进程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/31ln/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    30 文件系统中的“分身术”ln命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/32Linux_logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    31 Linux 系统日志之深入解析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/33bash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    32 Linux 中 `.bashrc`、`.bash-profile` 和 `.profile` 之间的区别
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/34linux_6logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    33 6大Linux命令线上日志排查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/35port_detect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    34 未安装telnet 和 nc 等工具，如何测试端口是否开放
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/36dudf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    35 df命令显示磁盘空间不足而du命令显示还有很多空闲空间
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap8/37linux_cond/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    36 Shell脚本的流程控制知识点汇总(2024)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bash Programming 技巧
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Bash Programming 技巧
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/1bash_prom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 简洁的 Bash Programming 技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/2bash_skill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 简洁的 Bash Programming 技巧续篇
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/3bash_skill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Bash Pitfalls: 编程易犯的错误（一）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap9/4bash_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 在Python中执行Linux Shell脚本
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AutoSys
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            AutoSys
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1autosys_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 AutoSys: A Beginner’s Guide AutoSys Workload Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/1Autosys_tot1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Autosys Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/2Autosys_jil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Autosys JIL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/3Autosys_comp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Autosys Components, Configuration & Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/4Autosys_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Austosys command
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/5Autosys_job_cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Manage Job in the Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/6autosys_vir_resouce/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Autotsys virtual resource management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap10/7autosys_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Shell Script to check Autosys agent installed
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" checked>
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2025 - 面试准备
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            2025 - 面试准备
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../0intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025-Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1cicd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 CI/CD 之路-GitOps 面试题合集
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1Linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 典型Linux面试题 (Greg, wget, curl，Vim)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 Docker面试10大必考题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    3 Kubernetes 面试题精解：从入门到进阶(2025)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    3 Kubernetes 面试题精解：从入门到进阶(2025)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      1 Kubernetes 面试题精解：从入门到进阶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Kubernetes 面试题精解：从入门到进阶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pod" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pod的创建过程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Pod的创建过程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-kubectlapi" class="md-nav__link">
    <span class="md-ellipsis">
      步骤1：用户提交请求 (kubectl或API)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apiserver" class="md-nav__link">
    <span class="md-ellipsis">
      2. APIServer处理请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      步骤3：调度器选择节点 (Scheduler)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      步骤4：Kubelet启动容器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      步骤5：服务发现和网络配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6pod" class="md-nav__link">
    <span class="md-ellipsis">
      步骤6：Pod状态更新
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2pod" class="md-nav__link">
    <span class="md-ellipsis">
      2.Pod销毁过程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.Pod销毁过程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      步骤1：用户或控制器发起删除请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apiserver_1" class="md-nav__link">
    <span class="md-ellipsis">
      2 APIServer 处理删除请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      3 Kubelet 停止服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4 清理容器资源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      5 Kubernetes集群状态更新
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6：清理网络资源
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      2 Kubernetes 的精通
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Kubernetes 的精通">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-kbernetes" class="md-nav__link">
    <span class="md-ellipsis">
      2-1 Kbernetes架构：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2" class="md-nav__link">
    <span class="md-ellipsis">
      2-2 容器化应用的部署与管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3" class="md-nav__link">
    <span class="md-ellipsis">
      2-3.服务发现与负载均衡
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-4" class="md-nav__link">
    <span class="md-ellipsis">
      2-4. 存储与持久化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-5" class="md-nav__link">
    <span class="md-ellipsis">
      2-5.安全性管理：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-6" class="md-nav__link">
    <span class="md-ellipsis">
      2-6.集群监控与日志管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-7" class="md-nav__link">
    <span class="md-ellipsis">
      2-7 性能优化与故障排除：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-8" class="md-nav__link">
    <span class="md-ellipsis">
      2-8.自定义与扩展：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-9cicd" class="md-nav__link">
    <span class="md-ellipsis">
      2-9.CI/CD集成与自动化：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-10" class="md-nav__link">
    <span class="md-ellipsis">
      2-10.多集群管理与服务网格：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 对于像容器之类的服务，出现了故障
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 对于像容器之类的服务，出现了故障">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查容器状态和日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 资源问题排查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 网络问题排查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 配置错误
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 容器镜像问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 依赖服务问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 容器的健康检查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 集群和容器编排平台问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 查看事件和警告
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      3 k8s重要组件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 k8s重要组件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0" class="md-nav__link">
    <span class="md-ellipsis">
      0 核心组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-apiserver" class="md-nav__link">
    <span class="md-ellipsis">
      1. APIServer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-etcd" class="md-nav__link">
    <span class="md-ellipsis">
      2. ETCD 配置管理数据库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-scheduler_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. Scheduler (调度器）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-controllermanager" class="md-nav__link">
    <span class="md-ellipsis">
      4. ControllerManager （控制器管理器）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      5. Kubelet（节点管理代理）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-kubeproxy" class="md-nav__link">
    <span class="md-ellipsis">
      6. KubeProxy (服务代理)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-ingresscontroller-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      7. IngressController (Ingress控制器)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      8. Namespace(命名空间)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-volume" class="md-nav__link">
    <span class="md-ellipsis">
      9. Volume (存储卷)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10service" class="md-nav__link">
    <span class="md-ellipsis">
      10.Service (服务)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11configmap" class="md-nav__link">
    <span class="md-ellipsis">
      11.ConfigMap和机密管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      4 k8s 里面的资源调度吧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 k8s 里面的资源调度吧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      1 调度器（scheduler）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2 节点选择
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3 调度算法和优先级
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4 容器调度中的资源管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 容器调度中的资源管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requestlimit" class="md-nav__link">
    <span class="md-ellipsis">
      请求（Request）与限制（Limit）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Quotas（资源配额）：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      调度器的扩展性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod" class="md-nav__link">
    <span class="md-ellipsis">
      pod 的生命周期管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cni" class="md-nav__link">
    <span class="md-ellipsis">
      4 CNI 并且描述下它们之间的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 CNI 并且描述下它们之间的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flannel" class="md-nav__link">
    <span class="md-ellipsis">
      Flannel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calico" class="md-nav__link">
    <span class="md-ellipsis">
      Calico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cilium" class="md-nav__link">
    <span class="md-ellipsis">
      Cilium
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canal" class="md-nav__link">
    <span class="md-ellipsis">
      Canal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-router" class="md-nav__link">
    <span class="md-ellipsis">
      Kube-router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cni" class="md-nav__link">
    <span class="md-ellipsis">
      选择CNI插件时的考虑因素
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-liveness-probereadiness-probestartup-probe" class="md-nav__link">
    <span class="md-ellipsis">
      5 存活探针（Liveness Probe）、就绪探针（Readiness Probe）、启动探针（Startup Probe）的区别及适用场景？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 存活探针（Liveness Probe）、就绪探针（Readiness Probe）、启动探针（Startup Probe）的区别及适用场景？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-liveness-probe" class="md-nav__link">
    <span class="md-ellipsis">
      1. 存活探针（Liveness Probe）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-readiness-probe" class="md-nav__link">
    <span class="md-ellipsis">
      2. 就绪探针（Readiness Probe）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-startup-probe" class="md-nav__link">
    <span class="md-ellipsis">
      3. 启动探针（Startup Probe）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-kubernetes-qos-guaranteedburstablebesteffort" class="md-nav__link">
    <span class="md-ellipsis">
      2: Kubernetes 的 QoS 分类（Guaranteed、Burstable、BestEffort）及其资源管理策略？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2: Kubernetes 的 QoS 分类（Guaranteed、Burstable、BestEffort）及其资源管理策略？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-guaranteed" class="md-nav__link">
    <span class="md-ellipsis">
      1. Guaranteed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-burstable" class="md-nav__link">
    <span class="md-ellipsis">
      2. Burstable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-besteffort" class="md-nav__link">
    <span class="md-ellipsis">
      3. BestEffort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pod-qos" class="md-nav__link">
    <span class="md-ellipsis">
      4 如何为 Pod 配置 QoS 策略？举例说明不同场景的选择。
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 如何为 Pod 配置 QoS 策略？举例说明不同场景的选择。">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-guaranteed_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Guaranteed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-burstable_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Burstable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-besteffort_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. BestEffort
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-pod-qos" class="md-nav__link">
    <span class="md-ellipsis">
      5 如果一个 Pod 频繁重启，如何通过探针和 QoS 策略排查问题？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 如果一个 Pod 频繁重启，如何通过探针和 QoS 策略排查问题？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查探针配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 分析资源限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 查看事件日志
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-qos" class="md-nav__link">
    <span class="md-ellipsis">
      6 如何通过 QoS 和探针优化高密度集群的资源利用率？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      6. 在 Kubernetes 中，如何配置资源请求和限制？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-kubernetes-horizontal-pod-autoscalerhpa" class="md-nav__link">
    <span class="md-ellipsis">
      7. Kubernetes 中的 Horizontal Pod Autoscaler（HPA）是如何工作的？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Kubernetes 中的 Horizontal Pod Autoscaler（HPA）是如何工作的？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes 中如何进行 Pod 弹性伸缩
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kuernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kuernetes 中的资源限制和请求设置为什么重要？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      8 如何使用 Kubernetes 进行资源隔离？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      9. Kubernetes 中如何实现 Pod 的高可用性？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      10 Kubernetes 如何处理网络通信？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-kubernetes-resource-quota" class="md-nav__link">
    <span class="md-ellipsis">
      11 Kubernetes 中如何进行资源的限额管理（Resource Quota）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-kubernetes-taints-tolerations" class="md-nav__link">
    <span class="md-ellipsis">
      12. Kubernetes 中的 Taints 和 Tolerations 如何工作？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-kubernetes-service-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      13 Kubernetes 中如何实现服务发现（Service Discovery）？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      14. Kubernetes 的 Pod 生命周期是如何管理的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-kubernetes-networkpolicy" class="md-nav__link">
    <span class="md-ellipsis">
      15. Kubernetes 中如何实现网络策略（NetworkPolicy）？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      16 Kubernetes 中如何处理节点故障？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-kubernetes-statefulset-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      17. Kubernetes 中的 StatefulSet 与 Deployment 有什么区别？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-kubernetes-persistentvolumepv-persistentvolumeclaimpvc" class="md-nav__link">
    <span class="md-ellipsis">
      18 Kubernetes 中的 PersistentVolume（PV）和 PersistentVolumeClaim（PVC）是什么？它们如何工作？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      19. Kubernetes 中的监控和日志如何结合使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      20. Kubernetes 中如何处理存储资源的动态供给？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-kubernetes-affinity-anti-affinity" class="md-nav__link">
    <span class="md-ellipsis">
      21. Kubernetes 中的 Affinity 和 Anti-Affinity 是如何工作的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      22 Kubernetes 中如何处理 Pod 的优先级和抢占？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-kubernetes-ingress-egress" class="md-nav__link">
    <span class="md-ellipsis">
      23 Kubernetes 中的 Ingress 和 Egress 是如何控制流量的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-kubernetes-rbacrole-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      24 Kubernetes 中的 RBAC（Role-Based Access Control）如何控制权限？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      25. Kubernetes 中如何处理事件日志？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-kubernetes-poddisruptionbudgetpdb" class="md-nav__link">
    <span class="md-ellipsis">
      26. Kubernetes 中的 PodDisruptionBudget（PDB）是什么？如何使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-kubernetes-resource-manager" class="md-nav__link">
    <span class="md-ellipsis">
      27 Kubernetes 中的资源管理器（Resource Manager）如何确保集群资源的公平分配？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#28-four-types-of-k8s-services" class="md-nav__link">
    <span class="md-ellipsis">
      28 Four types of k8s services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#29-k8s-service-ependpoints" class="md-nav__link">
    <span class="md-ellipsis">
      29 k8s 的 service 和 ep(endpoints) 是如何关联和相互影响的。
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-deploymentrs" class="md-nav__link">
    <span class="md-ellipsis">
      30 deployment/rs有什么区别。其使用方式、使用条件和原理是什么。
    </span>
  </a>
  
    <nav class="md-nav" aria-label="30 deployment/rs有什么区别。其使用方式、使用条件和原理是什么。">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      拥有多种升级方案：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥有多种升级方案：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      使用方式:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-statefulsetdeployment" class="md-nav__link">
    <span class="md-ellipsis">
      31 StatefulSet和Deployment的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="31 StatefulSet和Deployment的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      无状态的应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      有状态的应用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-daemonset" class="md-nav__link">
    <span class="md-ellipsis">
      32、 DaemonSet资源对象的特性？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-pod" class="md-nav__link">
    <span class="md-ellipsis">
      33、 创建一个pod的流程是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-pod" class="md-nav__link">
    <span class="md-ellipsis">
      34、 删除一个Pod会发生什么事情？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetesk8s-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes(k8s)-常用命令(kubectl命令)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes(k8s)-常用命令(kubectl命令)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      获取资源信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      创建和更新资源
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpa-vs-qos" class="md-nav__link">
    <span class="md-ellipsis">
      VPA vs QOS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPA vs QOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-vpa-works" class="md-nav__link">
    <span class="md-ellipsis">
      How VPA Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#impact-on-qos-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Impact on QoS Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-vpa-affects-qos" class="md-nav__link">
    <span class="md-ellipsis">
      How VPA Affects QoS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Key Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Example Scenario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#k8s" class="md-nav__link">
    <span class="md-ellipsis">
      K8s 故障解决
    </span>
  </a>
  
    <nav class="md-nav" aria-label="K8s 故障解决">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1、问题现象与背景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2、问题根因分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3、紧急处理措施
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3、紧急处理措施">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 快速扩容与负载分流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pod" class="md-nav__link">
    <span class="md-ellipsis">
      2 临时调整Pod副本数：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pod_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 手动驱逐问题Pod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-kubelet_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 动态调整kubelet驱逐阈值
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2、根因修复与长期优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2、根因修复与长期优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 资源配额规范化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 资源配额规范化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resourcequota" class="md-nav__link">
    <span class="md-ellipsis">
      启用命名空间级ResourceQuota：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 自动化弹性伸缩
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 自动化弹性伸缩">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hpa" class="md-nav__link">
    <span class="md-ellipsis">
      配置HPA（基于内存）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpa" class="md-nav__link">
    <span class="md-ellipsis">
      使用VPA（垂直扩缩容)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 内存泄漏根治
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5、监控与告警体系升级
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5、监控与告警体系升级">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prometheus" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prometheus监控规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_2" class="md-nav__link">
    <span class="md-ellipsis">
      6、预防与容灾演练
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6、预防与容灾演练">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 混沌工程实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 定期压力测试
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_6" class="md-nav__link">
    <span class="md-ellipsis">
      3. 架构优化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4Linux_tb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 Linux 系统故障时
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 AWS 面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 监控生态面试通关秘籍
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7cri/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 从容器到调度：准备好这些 CRI 面试题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../8sap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8 SAP面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../9db_interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9 数据库面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 Prometheus面试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11istio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11 深度剖析 Istio (2025)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12 Python Interview - Full
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 Jekins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13 Python
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SRE
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            SRE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15Apple_SRE_prp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025 Apple SRE PRP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1SRE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 SRE Interview Questions and Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13tiktok/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 2025 最新字节跳动运维云原生面经分享
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2Ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Ansible Interview Question
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 250 Linux Scenario Based Interview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3kubernetes_sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Kubernetes SRE part1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3kubernetes_sre2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Kubernetes SRE part2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7 Git Scenario-Based Questions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SRE-Tes-Prep
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            SRE-Tes-Prep
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/0interview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 SRE 面试2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/1linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2 SRE Linux All2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/2ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 Ansible 从入门到放弃
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15Apple_SRE_prp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    0 2025 Apple SRE PRP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/3git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3 GIT CE TEST
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/5jump_trade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Jump Trading Interview (code)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1interview2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 interview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Prualsight
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            Prualsight
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sreln/2Linux_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Linux Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sreln/1k8s_dev/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 Using Kubernetes as a Developer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sre/4sre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4 SRE Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sreln/5agile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5 Agile Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sreln/6cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6 Cloud Native Test
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_16" >
        
          
          <label class="md-nav__link" for="__nav_16" id="__nav_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    英语学习
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_16">
            <span class="md-nav__icon md-icon"></span>
            英语学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Eng/1work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1 职场英语
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      1 Kubernetes 面试题精解：从入门到进阶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 Kubernetes 面试题精解：从入门到进阶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-pod" class="md-nav__link">
    <span class="md-ellipsis">
      1. Pod的创建过程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Pod的创建过程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-kubectlapi" class="md-nav__link">
    <span class="md-ellipsis">
      步骤1：用户提交请求 (kubectl或API)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apiserver" class="md-nav__link">
    <span class="md-ellipsis">
      2. APIServer处理请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      步骤3：调度器选择节点 (Scheduler)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      步骤4：Kubelet启动容器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      步骤5：服务发现和网络配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6pod" class="md-nav__link">
    <span class="md-ellipsis">
      步骤6：Pod状态更新
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2pod" class="md-nav__link">
    <span class="md-ellipsis">
      2.Pod销毁过程
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.Pod销毁过程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      步骤1：用户或控制器发起删除请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-apiserver_1" class="md-nav__link">
    <span class="md-ellipsis">
      2 APIServer 处理删除请求
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      3 Kubelet 停止服务
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4 清理容器资源
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      5 Kubernetes集群状态更新
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6：清理网络资源
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      2 Kubernetes 的精通
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Kubernetes 的精通">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2-1-kbernetes" class="md-nav__link">
    <span class="md-ellipsis">
      2-1 Kbernetes架构：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-2" class="md-nav__link">
    <span class="md-ellipsis">
      2-2 容器化应用的部署与管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-3" class="md-nav__link">
    <span class="md-ellipsis">
      2-3.服务发现与负载均衡
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-4" class="md-nav__link">
    <span class="md-ellipsis">
      2-4. 存储与持久化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-5" class="md-nav__link">
    <span class="md-ellipsis">
      2-5.安全性管理：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-6" class="md-nav__link">
    <span class="md-ellipsis">
      2-6.集群监控与日志管理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-7" class="md-nav__link">
    <span class="md-ellipsis">
      2-7 性能优化与故障排除：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-8" class="md-nav__link">
    <span class="md-ellipsis">
      2-8.自定义与扩展：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-9cicd" class="md-nav__link">
    <span class="md-ellipsis">
      2-9.CI/CD集成与自动化：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-10" class="md-nav__link">
    <span class="md-ellipsis">
      2-10.多集群管理与服务网格：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 对于像容器之类的服务，出现了故障
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 对于像容器之类的服务，出现了故障">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查容器状态和日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 资源问题排查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 网络问题排查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 配置错误
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 容器镜像问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 依赖服务问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 容器的健康检查
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 集群和容器编排平台问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 查看事件和警告
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      3 k8s重要组件
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 k8s重要组件">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0" class="md-nav__link">
    <span class="md-ellipsis">
      0 核心组件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-apiserver" class="md-nav__link">
    <span class="md-ellipsis">
      1. APIServer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-etcd" class="md-nav__link">
    <span class="md-ellipsis">
      2. ETCD 配置管理数据库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-scheduler_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. Scheduler (调度器）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-controllermanager" class="md-nav__link">
    <span class="md-ellipsis">
      4. ControllerManager （控制器管理器）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-kubelet" class="md-nav__link">
    <span class="md-ellipsis">
      5. Kubelet（节点管理代理）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-kubeproxy" class="md-nav__link">
    <span class="md-ellipsis">
      6. KubeProxy (服务代理)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-ingresscontroller-ingress" class="md-nav__link">
    <span class="md-ellipsis">
      7. IngressController (Ingress控制器)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      8. Namespace(命名空间)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-volume" class="md-nav__link">
    <span class="md-ellipsis">
      9. Volume (存储卷)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10service" class="md-nav__link">
    <span class="md-ellipsis">
      10.Service (服务)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11configmap" class="md-nav__link">
    <span class="md-ellipsis">
      11.ConfigMap和机密管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-k8s" class="md-nav__link">
    <span class="md-ellipsis">
      4 k8s 里面的资源调度吧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 k8s 里面的资源调度吧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-scheduler" class="md-nav__link">
    <span class="md-ellipsis">
      1 调度器（scheduler）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2 节点选择
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3 调度算法和优先级
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4 容器调度中的资源管理
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 容器调度中的资源管理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requestlimit" class="md-nav__link">
    <span class="md-ellipsis">
      请求（Request）与限制（Limit）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      Resource Quotas（资源配额）：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      调度器的扩展性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pod" class="md-nav__link">
    <span class="md-ellipsis">
      pod 的生命周期管理
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-cni" class="md-nav__link">
    <span class="md-ellipsis">
      4 CNI 并且描述下它们之间的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 CNI 并且描述下它们之间的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flannel" class="md-nav__link">
    <span class="md-ellipsis">
      Flannel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calico" class="md-nav__link">
    <span class="md-ellipsis">
      Calico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cilium" class="md-nav__link">
    <span class="md-ellipsis">
      Cilium
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#canal" class="md-nav__link">
    <span class="md-ellipsis">
      Canal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-router" class="md-nav__link">
    <span class="md-ellipsis">
      Kube-router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cni" class="md-nav__link">
    <span class="md-ellipsis">
      选择CNI插件时的考虑因素
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-liveness-probereadiness-probestartup-probe" class="md-nav__link">
    <span class="md-ellipsis">
      5 存活探针（Liveness Probe）、就绪探针（Readiness Probe）、启动探针（Startup Probe）的区别及适用场景？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 存活探针（Liveness Probe）、就绪探针（Readiness Probe）、启动探针（Startup Probe）的区别及适用场景？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-liveness-probe" class="md-nav__link">
    <span class="md-ellipsis">
      1. 存活探针（Liveness Probe）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-readiness-probe" class="md-nav__link">
    <span class="md-ellipsis">
      2. 就绪探针（Readiness Probe）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-startup-probe" class="md-nav__link">
    <span class="md-ellipsis">
      3. 启动探针（Startup Probe）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-kubernetes-qos-guaranteedburstablebesteffort" class="md-nav__link">
    <span class="md-ellipsis">
      2: Kubernetes 的 QoS 分类（Guaranteed、Burstable、BestEffort）及其资源管理策略？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2: Kubernetes 的 QoS 分类（Guaranteed、Burstable、BestEffort）及其资源管理策略？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-guaranteed" class="md-nav__link">
    <span class="md-ellipsis">
      1. Guaranteed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-burstable" class="md-nav__link">
    <span class="md-ellipsis">
      2. Burstable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-besteffort" class="md-nav__link">
    <span class="md-ellipsis">
      3. BestEffort
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-pod-qos" class="md-nav__link">
    <span class="md-ellipsis">
      4 如何为 Pod 配置 QoS 策略？举例说明不同场景的选择。
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 如何为 Pod 配置 QoS 策略？举例说明不同场景的选择。">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-guaranteed_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Guaranteed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-burstable_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Burstable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-besteffort_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. BestEffort
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-pod-qos" class="md-nav__link">
    <span class="md-ellipsis">
      5 如果一个 Pod 频繁重启，如何通过探针和 QoS 策略排查问题？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 如果一个 Pod 频繁重启，如何通过探针和 QoS 策略排查问题？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查探针配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 分析资源限制
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 查看事件日志
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-qos" class="md-nav__link">
    <span class="md-ellipsis">
      6 如何通过 QoS 和探针优化高密度集群的资源利用率？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      6. 在 Kubernetes 中，如何配置资源请求和限制？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-kubernetes-horizontal-pod-autoscalerhpa" class="md-nav__link">
    <span class="md-ellipsis">
      7. Kubernetes 中的 Horizontal Pod Autoscaler（HPA）是如何工作的？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Kubernetes 中的 Horizontal Pod Autoscaler（HPA）是如何工作的？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes 中如何进行 Pod 弹性伸缩
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kuernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kuernetes 中的资源限制和请求设置为什么重要？
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      8 如何使用 Kubernetes 进行资源隔离？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      9. Kubernetes 中如何实现 Pod 的高可用性？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      10 Kubernetes 如何处理网络通信？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-kubernetes-resource-quota" class="md-nav__link">
    <span class="md-ellipsis">
      11 Kubernetes 中如何进行资源的限额管理（Resource Quota）
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-kubernetes-taints-tolerations" class="md-nav__link">
    <span class="md-ellipsis">
      12. Kubernetes 中的 Taints 和 Tolerations 如何工作？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-kubernetes-service-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      13 Kubernetes 中如何实现服务发现（Service Discovery）？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      14. Kubernetes 的 Pod 生命周期是如何管理的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-kubernetes-networkpolicy" class="md-nav__link">
    <span class="md-ellipsis">
      15. Kubernetes 中如何实现网络策略（NetworkPolicy）？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      16 Kubernetes 中如何处理节点故障？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-kubernetes-statefulset-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      17. Kubernetes 中的 StatefulSet 与 Deployment 有什么区别？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-kubernetes-persistentvolumepv-persistentvolumeclaimpvc" class="md-nav__link">
    <span class="md-ellipsis">
      18 Kubernetes 中的 PersistentVolume（PV）和 PersistentVolumeClaim（PVC）是什么？它们如何工作？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      19. Kubernetes 中的监控和日志如何结合使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      20. Kubernetes 中如何处理存储资源的动态供给？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-kubernetes-affinity-anti-affinity" class="md-nav__link">
    <span class="md-ellipsis">
      21. Kubernetes 中的 Affinity 和 Anti-Affinity 是如何工作的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-kubernetes-pod" class="md-nav__link">
    <span class="md-ellipsis">
      22 Kubernetes 中如何处理 Pod 的优先级和抢占？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-kubernetes-ingress-egress" class="md-nav__link">
    <span class="md-ellipsis">
      23 Kubernetes 中的 Ingress 和 Egress 是如何控制流量的？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-kubernetes-rbacrole-based-access-control" class="md-nav__link">
    <span class="md-ellipsis">
      24 Kubernetes 中的 RBAC（Role-Based Access Control）如何控制权限？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      25. Kubernetes 中如何处理事件日志？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-kubernetes-poddisruptionbudgetpdb" class="md-nav__link">
    <span class="md-ellipsis">
      26. Kubernetes 中的 PodDisruptionBudget（PDB）是什么？如何使用？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-kubernetes-resource-manager" class="md-nav__link">
    <span class="md-ellipsis">
      27 Kubernetes 中的资源管理器（Resource Manager）如何确保集群资源的公平分配？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#28-four-types-of-k8s-services" class="md-nav__link">
    <span class="md-ellipsis">
      28 Four types of k8s services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#29-k8s-service-ependpoints" class="md-nav__link">
    <span class="md-ellipsis">
      29 k8s 的 service 和 ep(endpoints) 是如何关联和相互影响的。
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-deploymentrs" class="md-nav__link">
    <span class="md-ellipsis">
      30 deployment/rs有什么区别。其使用方式、使用条件和原理是什么。
    </span>
  </a>
  
    <nav class="md-nav" aria-label="30 deployment/rs有什么区别。其使用方式、使用条件和原理是什么。">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      拥有多种升级方案：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="拥有多种升级方案：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      使用方式:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-statefulsetdeployment" class="md-nav__link">
    <span class="md-ellipsis">
      31 StatefulSet和Deployment的区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="31 StatefulSet和Deployment的区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      无状态的应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      有状态的应用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-daemonset" class="md-nav__link">
    <span class="md-ellipsis">
      32、 DaemonSet资源对象的特性？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-pod" class="md-nav__link">
    <span class="md-ellipsis">
      33、 创建一个pod的流程是什么？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#34-pod" class="md-nav__link">
    <span class="md-ellipsis">
      34、 删除一个Pod会发生什么事情？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetesk8s-kubectl" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes(k8s)-常用命令(kubectl命令)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes(k8s)-常用命令(kubectl命令)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      获取资源信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      创建和更新资源
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpa-vs-qos" class="md-nav__link">
    <span class="md-ellipsis">
      VPA vs QOS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VPA vs QOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-vpa-works" class="md-nav__link">
    <span class="md-ellipsis">
      How VPA Works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#impact-on-qos-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Impact on QoS Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-vpa-affects-qos" class="md-nav__link">
    <span class="md-ellipsis">
      How VPA Affects QoS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Key Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Example Scenario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#k8s" class="md-nav__link">
    <span class="md-ellipsis">
      K8s 故障解决
    </span>
  </a>
  
    <nav class="md-nav" aria-label="K8s 故障解决">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1、问题现象与背景
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2、问题根因分析
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3、紧急处理措施
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3、紧急处理措施">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 快速扩容与负载分流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pod" class="md-nav__link">
    <span class="md-ellipsis">
      2 临时调整Pod副本数：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pod_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 手动驱逐问题Pod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-kubelet_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 动态调整kubelet驱逐阈值
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2、根因修复与长期优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2、根因修复与长期优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 资源配额规范化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 资源配额规范化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resourcequota" class="md-nav__link">
    <span class="md-ellipsis">
      启用命名空间级ResourceQuota：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 自动化弹性伸缩
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 自动化弹性伸缩">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hpa" class="md-nav__link">
    <span class="md-ellipsis">
      配置HPA（基于内存）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vpa" class="md-nav__link">
    <span class="md-ellipsis">
      使用VPA（垂直扩缩容)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 内存泄漏根治
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5、监控与告警体系升级
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5、监控与告警体系升级">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prometheus" class="md-nav__link">
    <span class="md-ellipsis">
      1. Prometheus监控规则
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_2" class="md-nav__link">
    <span class="md-ellipsis">
      6、预防与容灾演练
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6、预防与容灾演练">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 混沌工程实践
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 定期压力测试
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_6" class="md-nav__link">
    <span class="md-ellipsis">
      3. 架构优化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="kubernetes-2025-">Kubernetes 面试题精解：从入门到进阶(2025) - 必看</h1>
<h2 id="1-kubernetes">1 Kubernetes 面试题精解：从入门到进阶</h2>
<p>Kubernetes 中的 Pod 是最小的调度单元，通常用于运行一个或多个容器。Pod 的创建和销毁是 Kubernetes 集群中重要的操作，涉及到多个组件的交互和状态变更。下面是对 Pod 创建 和 Pod 销毁 过程的详细描述</p>
<h3 id="1-pod">1. Pod的创建过程</h3>
<h4 id="1-kubectlapi"><strong>步骤1：用户提交请求 (kubectl或API)</strong></h4>
<ul>
<li>用户通过 kubectl 或者<strong>直接通过 Kubernetes API 提交创建 Pod 的请求</strong>。这通常是通过 kubectl run、kubectl apply 等命令，或者通过编写一个 YAML 文件描述 Pod 的配置并将其提交到集群。</li>
<li>请求包含 Pod 的配置，<strong>通常包括容器的镜像、资源限制、环境变量、卷、端口等信息</strong></li>
</ul>
<h4 id="2-apiserver">2. APIServer处理请求</h4>
<p>Kubernetes 的 API Server 是整个集群的接口，处理所有的 HTTP 请求。收到 Pod 创建请求后，API Server 会对请求进<strong>行验证和授权</strong>（基于 RBAC 和其他策略）</p>
<ul>
<li><strong>验证</strong>：检查请求是否符合 Kubernetes 的 API 规范（例如，Pod 配置的语法、字段是否正确等）。</li>
<li><strong>授权</strong>：确保发起请求的用户有足够的权限来创建 Pod。</li>
</ul>
<p>如果请求通过验证和授权，<strong>API Server 会将 Pod 配置保存到 Etcd 中</strong>。<strong>Etcd 是一个强一致性的数据库，用于存储 Kubernetes 集群的所有状态信息</strong></p>
<h4 id="3-scheduler">步骤3：调度器选择节点 (Scheduler)</h4>
<p><strong>Kubernetes Scheduler 会监控 Etcd 中的 Pod 状态，</strong>并选择适合的节点来运行该 Pod。调度器会根据以下因素做出决策</p>
<ul>
<li><strong>资源请求</strong>：<strong>Pod 请求的 CPU 和内存资源。</strong></li>
<li><strong>节点资源</strong>：<strong>节点的当前负载和可用资源。</strong></li>
<li><strong>亲和性/反亲和性</strong>：<strong>Pod 对节点的亲和性或反亲和性规则</strong>（例如，某些 Pod 必须一起运行，或者不能与其他 Pod 一起运行）。</li>
<li><strong>污点和容忍</strong>：节点是否有污点，并且 Pod 是否容忍这些污点</li>
</ul>
<p>调度器选择的节点会更新 Pod 的配置，指定该 Pod 将运行在选定的节点上。</p>
<h4 id="4kubelet">步骤4：Kubelet启动容器</h4>
<p>Kubelet 是每个节点上的代理，它负责确保容器在节点上运行。<strong>当调度器确定 Pod 将运行在某个节点上时，Kubelet 会接收到该节点上 Pod 的信息</strong></p>
<p>Kubelet 会根据 Pod 配置启动容器，确保容器按预期启动。它会：</p>
<ul>
<li><strong>下载所需的容器镜像（如果镜像不存在于节点上</strong>）。</li>
<li><strong>根据 Pod 配置启动容器</strong>。</li>
<li>如果使用了卷，Kubelet 会挂载相应的存储资源到容器中。</li>
</ul>
<p>Kubelet 启动容器后，容器运行的状态会定期报告给 API Server，确保 Pod 的状态是健康的。</p>
<h4 id="5">步骤5：服务发现和网络配置</h4>
<ul>
<li><strong>Kube Proxy 会为 Pod 配置网络规则</strong>，<strong>确保服务能够找到这个 Pod</strong>。</li>
<li><strong>如果 Pod 是通过 Service 暴露的，Kube Proxy 会更新 Service 的后端列表，包含新创建的 Pod</strong>。</li>
<li><strong>Kubernetes 的 DNS 服务会为 Pod 分配一个 DNS 名称，使其可以通过 DNS 解析访问</strong>。</li>
</ul>
<h4 id="6pod">步骤6：Pod状态更新</h4>
<p>在 Pod 被成功调度并启动后，Kubernetes API Server 会将 Pod 的状态更新为 Running，<strong>并将状态信息保存在 Etcd 中。Pod 的 IP 地址和其他元数据也会在这个阶段更新</strong>。</p>
<h3 id="2pod">2.Pod销毁过程</h3>
<h4 id="1">步骤1：用户或控制器发起删除请求</h4>
<ul>
<li>Pod 的销毁通常由用户通过 <code>kubectl delete pod &lt;pod_name&gt;</code> 命令，或者由<strong>控制器（如 Deployment、StatefulSet 等）发起</strong>。</li>
<li><strong>当控制器的期望状态与实际状态不一致时，控制器会发起删除 Pod 的请求</strong>。比如，Deployment 中的 Pod 副本数发生变化时，控制器会删除不需要的 Pod</li>
</ul>
<h4 id="2-apiserver_1">2 APIServer 处理删除请求</h4>
<ul>
<li>API Server 接收到删除请求后，首先会验证请求的合法性。</li>
<li><strong>API Server 会将删除请求的状态保存到 Etcd 中，更新 Pod 的状态为 Terminating</strong>。</li>
</ul>
<h4 id="3-kubelet">3 Kubelet 停止服务</h4>
<p>Kubelet 发现 Pod 被标记为 Terminating 后，会启动容器的终止过程。Kubelet 会：</p>
<ul>
<li>发送终止信号（如 SIGTERM）给 Pod 中的容器。</li>
<li><strong>等待一定的时间（Grace Period），允许容器优雅地关闭</strong>。</li>
<li><strong>如果容器没有在规定时间内退出，Kubelet 会发送强制终止信号（如 SIGKILL）</strong>。</li>
</ul>
<h4 id="4">4 清理容器资源</h4>
<p>Kubelet 会清理容器和与 Pod 相关的资源，例如：</p>
<ul>
<li>删除容器的运行时资源。</li>
<li><strong>如果 Pod 使用了卷，Kubelet 会释放和卸载卷资源</strong>。</li>
<li>删除容器网络设置。</li>
</ul>
<h4 id="5-kubernetes">5 Kubernetes集群状态更新</h4>
<ul>
<li>Kubernetes API Server 会更新 Pod 的状态为 <strong>Deleted</strong>，<strong>并从 Etcd 中删除 Pod 的相关数据。</strong></li>
<li>如果 Pod 是由控制器（如 Deployment）管理的，控制器会根据新的状态启动新的 Pod，以维持期望的副本数。</li>
</ul>
<h4 id="6">6：清理网络资源</h4>
<p><strong>Kube Proxy 会更新服务的后端列表，移除已删除 Pod 的 IP 地址，确保流量不再路由到该 Pod。</strong></p>
<ul>
<li>Pod 创建过程：<strong>从用户提交请求到 API Server，再到调度器选择节点，Kubelet 启动容器，最后更新状态并暴露服务</strong>。</li>
<li>Pod 销毁过程：<strong>从用户或控制器发起删除请求，到 API Server 标记 Pod 为 Terminating，Kubelet 优雅地终止容器，最终清理资源并更新状态</strong>。</li>
</ul>
<h2 id="2-kubernetes">2 Kubernetes 的精通</h2>
<h3 id="2-1-kbernetes">2-1 Kbernetes架构：</h3>
<ul>
<li>Kubernetes 核心组件：如 <strong>API Server、Scheduler、Controller Manager、Kubelet、Kube Proxy</strong> 等的工作原理和交互方式。</li>
<li><strong>Pod、Deployment、ReplicaSet、StatefulSet、DaemonSet、Job、CronJob</strong> 等 Kubernetes 资源对象的详细理解，并能合理选择使用场景。</li>
<li>Master 节点和 Worker 节点的角色和功能，如何管理和调度容器化应用</li>
</ul>
<h3 id="2-2">2-2 容器化应用的部署与管理</h3>
<ul>
<li><strong>高效的应用部署</strong>：能熟练使用 Helm、Kustomize 等工具，简化和自动化 Kubernetes 上的应用部署。</li>
<li><strong>滚动更新与回滚</strong>：能够在 Kubernetes 中实现无停机更新，并能快速应对故障进行回滚。</li>
<li><strong>多环境管理</strong>：熟悉如何在不同的环境中（如开发、测试、生产）管理和配置 Kubernetes 集群。</li>
</ul>
<h3 id="2-3">2-3.服务发现与负载均衡</h3>
<ul>
<li><strong>内部和外部服务暴露</strong>：<strong>熟练使用 Kubernetes 的 Service 资源，支持负载均衡、DNS 解析和端口映射。</strong></li>
<li><strong>Ingress 控制器</strong>：能够配置和管理 Ingress 控制器，控制外部流量的访问。</li>
<li><strong>Service Mesh（如 Istio）</strong>：理解并能应用 Service Mesh 实现微服务间的通信、监控和安全性控制</li>
</ul>
<h3 id="2-4">2-4. 存储与持久化</h3>
<ul>
<li>Volume 和 Persistent Volume (PV)：理解 Kubernetes 中的存储体系，能够根据应用的需要选择合适的存储类型（如 NFS、GlusterFS、Ceph、云存储等）。</li>
<li><strong>StatefulSet 与持久化存储：能够有效地为有状态的应用（如数据库）配置持久化存储</strong>。</li>
<li><strong>StorageClass 和动态供应</strong>：使用 StorageClass 配置动态卷供应，满足高效、灵活的存储需求</li>
</ul>
<h3 id="2-5">2-5.安全性管理：</h3>
<ul>
<li>RBAC（角色和权限控制）：熟练使用 Kubernetes 的基于角色的访问控制（RBAC）来控制集群访问权限。</li>
<li><strong>NetworkPolicy：能够为不同的 Pod 和服务配置网络策略，保证集群内外的安全性</strong>。</li>
<li>密钥和凭证管理：使用 Kubernetes Secret 管理敏感信息，确保应用的安全配置。</li>
</ul>
<h3 id="2-6">2-6.集群监控与日志管理</h3>
<ul>
<li>监控系统：熟练使用 Prometheus、Grafana 等工具对集群和应用进行实时监控，设置告警机制。</li>
<li>日志管理：使用 ELK Stack、Fluentd、EFK 等日志收集和分析工具进行集群日志管理和故障排查。</li>
</ul>
<h3 id="2-7">2-7 性能优化与故障排除：</h3>
<ul>
<li><strong>性能调优</strong>：能够根据工作负载的需求优化集群资源配置，如合理设置 CPU 和内存资源请求与限制。</li>
<li><strong>故障排查</strong>：能够通过 kubectl 命令、日志、监控工具和事件分析，迅速诊断和解决集群中的各种问题。</li>
<li><strong>集群高可用性和灾难恢复</strong>：能够配置和管理高可用的 Kubernetes 集群，确保集群在面临单点故障时仍能稳定运行。</li>
</ul>
<h3 id="2-8">2-8.自定义与扩展：</h3>
<ul>
<li>自定义资源和控制器：<strong>能够使用 CRD（Custom Resource Definition）扩展 Kubernetes，创建和管理自定义资源对象</strong>。</li>
<li>Operator 模式：<strong>理解并能实现 Kubernetes Operator，以自动化管理复杂的、有状态的应用</strong></li>
</ul>
<h3 id="2-9cicd">2-9.CI/CD集成与自动化：</h3>
<ul>
<li>集成 Jenkins/GitLab CI/CD：能够将 Kubernetes 与 CI/CD 工具集成，实现自动化构建、测试和部署。</li>
<li>GitOps 流程：能够使用 Argo CD、Flux 等工具实现基于 GitOps 的持续交付。</li>
</ul>
<h3 id="2-10">2-10.多集群管理与服务网格：</h3>
<ul>
<li>跨集群通信和管理：了解如何管理多个 Kubernetes 集群以及它们之间的服务发现与通信。</li>
<li>Service Mesh：熟练使用 Service Mesh 技术（如 Istio）来处理跨服务的流量管理、安全控制、负载均衡等问题。</li>
</ul>
<h2 id="3">3 对于像容器之类的服务，出现了故障</h2>
<p><strong>你的排查思路是什么呢？</strong></p>
<h3 id="1_1">1. 检查容器状态和日志</h3>
<p><strong>检查容器的状态：</strong></p>
<ul>
<li>使用 docker ps（对于 Docker）或者 kubectl get pods（对于 Kubernetes）查看容器或 Pod 是否处于正常运行状态。<strong>如果容器处于 "CrashLoopBackOff" 或 "Error" 状态，可能是容器启动失败或崩溃</strong>。</li>
</ul>
<p><strong>查看容器日志：</strong></p>
<ul>
<li>使用 docker logs （Docker）或 kubectl logs （Kubernetes）查看容器的日志输出。这通常能提供关于容器内发生错误的直接信息，如应用崩溃、依赖缺失等。</li>
</ul>
<p><strong>检查应用日志：</strong></p>
<ul>
<li>如果容器内运行的是应用程序，查看应用的日志，了解是否有业务逻辑错误、异常或数据库连接问题等</li>
</ul>
<h3 id="2">2. 资源问题排查</h3>
<p><strong>内存和CPU资源：</strong></p>
<p>容器如果因为资源不足而崩溃，可以使用 docker stats 或 kubectl top pod 查看资源的使用情况。如果发现某个容器超出了其资源限制（如 CPU 或内存），则需要增加资源限制或优化应用。</p>
<p><strong>磁盘空间：</strong></p>
<p>确认宿主机或 Kubernetes 节点的磁盘空间是否足够，特别是 /var/lib/docker 或者类似存储容器镜像和日志的路径，空间不足可能导致容器运行失败</p>
<h3 id="3_1">3. 网络问题排查</h3>
<p><strong>网络连接</strong>：</p>
<p>检查容器是否能正常访问其他服务（例如数据库、外部 API 等）。</p>
<p>使用 <code>docker exec ping [target]</code> 或 <code>kubectl exec [pod_name] -- ping [target]</code> 测试网络连通性。</p>
<p><strong>DNS 配置问题</strong>：
容器内的 DNS 配置可能存在问题，导致无法解析域名。查看容器中的 /etc/resolv.conf 文件，确认 DNS 配置是否正确。</p>
<p><strong>防火墙或安全组：</strong></p>
<p>检查宿主机或云平台的防火墙或安全组设置，确保没有阻止容器之间的通信或外部访问。</p>
<h3 id="4_1">4. 配置错误</h3>
<p><strong>环境变量</strong>：</p>
<p>确保容器中设置的环境变量正确，例如数据库连接字符串、API 密钥等。如果环境变量缺失或错误，应用程序可能无法正常启动或连接到外部服务。</p>
<p><strong>配置文件：</strong></p>
<p>容器的配置文件可能被错误修改，导致应用无法正常工作。确保配置文件的路径和内容正确，尤其是在 Kubernetes 中使用 ConfigMap 或 Secret 时</p>
<h3 id="5_1">5. 容器镜像问题</h3>
<p><strong>镜像拉取失败：</strong></p>
<p>• 如果容器无法启动，检查镜像是否成功拉取。在 Docker 中可以使用 docker pull 命令检查镜像是否可用；在 Kubernetes 中使用 kubectl describe pod 查看详细的错误信息，看看是否存在镜像拉取失败的情况。</p>
<p><strong>镜像版本问题：</strong></p>
<p>确认容器运行的镜像版本是否正确。如果应用依赖特定版本的镜像，确保版本号和标签匹配，且没有使用过时或错误的镜像。</p>
<h3 id="6_1">6. 依赖服务问题</h3>
<p><strong>数据库/外部服务不可用</strong>：</p>
<p>• 检查容器是否能访问其依赖的数据库或外部服务。使用 docker exec 或 kubectl exec 进入容器，手动尝试连接数据库或外部服务，确认其可达性。</p>
<p><strong>依赖的服务是否正常运行：</strong></p>
<p>• 确保容器依赖的其他服务（如 Redis、Kafka、API 服务等）是否正常工作。检查这些服务的状态，查看是否有故障。</p>
<h3 id="7">7. 容器的健康检查</h3>
<p><strong>Kubernetes 健康检查：</strong></p>
<p>如果在 Kubernetes 中使用了 livenessProbe 和 readinessProbe，检查健康检查是否配置正确，容器是否被错误地标记为不健康或不可用。查看 kubectl describe pod 中关于探针的详细信息。</p>
<p><strong>Docker 健康检查：</strong></p>
<p>• 对于 Docker，可以使用 docker inspect 检查容器的健康状态。如果容器使用了 HEALTHCHECK 指令，查看健康检查的结果。</p>
<h3 id="8">8. 集群和容器编排平台问题</h3>
<p><strong>Kubernetes 集群问题：</strong></p>
<p>如果是 Kubernetes 集群中的容器故障，检查集群的状态是否正常，使用 kubectl get nodes 查看节点状态，确保集群中没有不可用的节点。</p>
<p><strong>资源调度问题：</strong></p>
<p>检查 Kubernetes 的调度器是否有问题，导致某些容器无法调度到合适的节点。可以查看调度器的日志（kubectl logs -n kube-system ）了解详细情况。</p>
<h3 id="9">9. 查看事件和警告</h3>
<p><strong>Kubernetes 事件：</strong></p>
<p>使用 kubectl get events 查看与容器或 Pod 相关的事件。这些事件可以提供很多有用的信息，如容器启动失败、资源不足、调度失败等。</p>
<p><strong>容器运行时的警告和错误</strong>：</p>
<p>查看 Docker 或 Kubernetes 运行时的日志（如 journalctl 或 /var/log/docker.log），可能会提供额外的警告信息或错误原因。</p>
<h2 id="3-k8s">3 k8s重要组件</h2>
<p>Kubernetes（K8s）是一个强大的容器编排平台，旨在自动化应用程序容器的部署、扩展和管理。它由多个组件组成，每个组件在整个 Kubernetes 系统中发挥着重要作用。以下是对 Kubernetes 每个关键组件的理解</p>
<h3 id="0"><strong>0 核心组件</strong></h3>
<ul>
<li><code>etcd</code>保存了整个集群的状态;</li>
<li><code>apiserver</code>提供了资源操作的唯一入口，并提供认证、授权、访问控制、API注册和发现等机制;</li>
<li><code>controller manager</code>负责维护集群的状态，比如<strong>故障检测</strong>、<strong>自动扩展</strong>、<strong>滚动更新</strong>等</li>
<li><code>scheduler</code>负责资源的调度，按照预定的<strong>调度策略将Pod调度到相应的机器上</strong></li>
<li><code>kubelet</code>负责维持容器的生命周期，同时也负责<code>Volume(CVI)</code>和网络<code>(CNI)</code>的管理;</li>
<li><code>Container runtime</code>负责镜像管理以及Pod和容器的真正运行(CRI);</li>
<li><code>kube-proxy</code>负责为<code>Service</code>提供<code>cluster</code>内部的<strong>服务发现和负载均衡</strong>;</li>
<li><code>Flannel</code> 网络保证，集群内各节点能通过<code>Pod</code>网段互联互通</li>
</ul>
<h3 id="1-apiserver">1. APIServer</h3>
<ul>
<li><strong>作用</strong>：API Server 是 Kubernetes 控制平面的核心组件，它作为所有用户请求的入口，<strong>负责接收和处理外部请求（如 kubectl 命令）以及集群内各组件的内部请求。API Server 提供 RESTful API 接口，供用户和 Kubernetes 控制平面的其他组件交互</strong>。</li>
<li><strong>工作原理</strong>：API Server 将请求验证、认证，<strong>并根据请求类型（如 GET、POST、PUT 等）与 Etcd 存储交互</strong>。它还会通过授权（RBAC）和准入控制器（Admission Controller）来确保请求符合权限和策略。</li>
</ul>
<h3 id="2-etcd">2. ETCD 配置管理数据库</h3>
<ul>
<li>作用：<strong>Etcd 是一个分布式键值存储</strong>，用于存储 Kubernetes 集群的所有配置信息和状态数据（如集群配置、Pod 状态、节点信息等）。</li>
<li>工作原理：Etcd 通过强一致性保证集群数据的一致性。Kubernetes 中的所有状态信息（<strong>如 Pod、Service、ConfigMap、Secret 等）都会存储在 Etcd 中，它支持数据的高可用性和灾难恢复</strong>。</li>
</ul>
<h3 id="3-scheduler_1">3. Scheduler (调度器）</h3>
<ul>
<li>作用：Scheduler 负责将没有指定节点的 Pod 调度到适当的节点上。它会根据资源需求、亲和性、反亲和性、污点和容忍等规则来做出调度决策。</li>
<li>工作原理：Scheduler 从 API Server 获取待调度的 Pod 列表，并根据集群中各节点的资源状况（如 CPU、内存、磁盘等）决定将 Pod 安排在哪个节点上。<strong>它会考虑节点的负载、约束条件（如节点选择器、亲和性等）以及其他调度策略</strong></li>
</ul>
<h3 id="4-controllermanager">4. ControllerManager  （控制器管理器）</h3>
<ul>
<li>作用：<strong>Controller Manager 运行控制器，负责 Kubernetes 集群状态的维护。控制器是一个循环控制系统，确保集群中的实际状态符合期望状态。</strong></li>
<li>工作原理：Controller Manager 包含多个控制器（如 <strong>Replication Controller、Deployment Controller、StatefulSet Controller 等</strong>），每个控制器监视集群的某个方面，并确保系统状态始终保持一致。<strong>例如，Deployment Controller 会确保部署的 Pod 数量与期望的副本数一致，Pod 的健康检查失败时会自动重新创建 Pod</strong>。</li>
</ul>
<h3 id="5-kubelet">5. Kubelet（节点管理代理）</h3>
<ul>
<li>作用：<strong>Kubelet 是 Kubernetes 中每个节点上的代理，它负责管理节点上的容器，并确保容器在节点上正常运行。</strong></li>
<li>工作原理：Kubelet 会定期向 API Server 汇报节点和容器的状态，并且确保本地的 Pod 和容器与 API Server 中的期望状态一致。如果容器崩溃或需要重新启动，Kubelet 会处理容器的启动和重启。</li>
</ul>
<h3 id="6-kubeproxy">6. KubeProxy (服务代理)</h3>
<ul>
<li>作用：Kube Proxy 负责集群内的网络代理和负载均衡。它管理 Kubernetes 中服务的访问，通过实现负载均衡策略，将流量分发到集群中的各个 Pod。</li>
<li><strong>工作原理：Kube Proxy 会监听 Kubernetes 服务资源的变化，并为每个服务创建负载均衡规则。它支持三种负载均衡模式：基于 iptables、基于 IPVS 和基于用户空间的代理</strong>。Kube Proxy 确保用户和外部流量能够正确地访问集群内的服务，并根据负载均衡策略将请求转发到相应的 Pod。</li>
</ul>
<h3 id="7-ingresscontroller-ingress">7. IngressController (Ingress控制器)</h3>
<ul>
<li>作用：<strong>Ingress Controller 是负责处理集群外部 HTTP 和 HTTPS 流量的组件。它基于 Ingress 资源，提供 HTTP 路由、SSL/TLS 终端等功能</strong>。</li>
<li>工作原理：Ingress 资源定义了外部访问服务的规则，而 Ingress Controller 会根据这些规则配置外部访问的路由和负载均衡。它允许将多个服务暴露在同一个负载均衡器上，并根据请求的路径或主机名将流量转发到不同的后端服务。</li>
</ul>
<h3 id="8-namespace">8. Namespace(命名空间)</h3>
<ul>
<li>作用：<strong>Namespace 是 Kubernetes 中的一种资源隔离机制，允许在同一个集群中创建多个虚拟集群</strong>。<strong>每个命名空间内的资源（如 Pod、Service、ConfigMap 等）是独立的</strong>。</li>
<li>工作原理：命名空间用于组织集群中的资源，并在大规模集群中提供隔离。在多租户环境中，不同的团队或项目可以在各自的命名空间中管理资源，从而避免资源冲突。</li>
</ul>
<h3 id="9-volume">9. Volume (存储卷)</h3>
<ul>
<li>作用：Volume 是 Kubernetes 提供的一种持久化存储解决方案，容器内的数据可以存储在 Volume 中，以便容器重启或迁移后数据仍然可用。</li>
<li>工作原理：Volume 是与 Pod 生命周期绑定的，可以挂载到 Pod 中的容器上。Kubernetes 支持多种类型的 Volume（如 <strong>HostPath、NFS、Ceph、Cloud Provider 的存储服务等</strong>），并且通过 <strong>Persistent Volume（PV）和 Persistent Volume Claim（PVC）</strong>来动态管理存储资源</li>
</ul>
<h3 id="10service">10.Service (服务)</h3>
<ul>
<li>作用：<strong>Service 是 Kubernetes 中的一个抽象层，用于定义一组 Pod 的访问方式，通常是通过负载均衡器来提供稳定的网络访问。</strong></li>
<li>工作原理：Service 提供了一种访问 Pod 的方法，它会自动发现并负载均衡所有后端 Pod 的流量。<strong>通过 ClusterIP、NodePort、LoadBalancer 等不同类型的 Service，用户可以定义不同的访问方式和策略。</strong></li>
</ul>
<h3 id="11configmap">11.ConfigMap和机密管理</h3>
<ul>
<li>作用：ConfigMap 和 Secret 是用于管理应用程序配置和敏感信息的资源对象。ConfigMap 存储非敏感的配置信息，而 Secret 存储机密信息，如数据库密码、API 密钥等。</li>
<li>工作原理：<strong>ConfigMap 和 Secret 允许在容器中以环境变量、命令行参数或挂载文件的方式提供配置信息</strong>。<strong>这些信息可以在 Pod 中以动态的方式进行更新，从而减少应用程序的硬编码配置</strong></li>
</ul>
<h2 id="4-k8s">4 k8s 里面的资源调度吧</h2>
<p>Kubernetes 中的 资源调度 是指将容器化的应用程序（通常是 Pod）分配到集群中的节点上的过程。Kubernetes 的调度系统决定了哪些 Pod 运行在集群中的哪些节点上，以确保集群资源的有效利用和负载均衡</p>
<p>Kubernetes 资源调度的基本概念</p>
<ol>
<li>Pod：Kubernetes 中的最小调度单元，<strong>一个 Pod 可以包含一个或多个容器</strong>。</li>
<li>节点：Kubernetes 集群中的机器，通常是虚拟机或物理机，负责承载和运行 Pod。</li>
<li>调度器：Kubernetes 的调度器（Scheduler）负责将没有指定节点的 Pod 调度到合适的节点上</li>
</ol>
<h3 id="1-scheduler">1 调度器（scheduler）</h3>
<p>调度器是 Kubernetes 中负责做出 Pod 调度决策的组件。它根据以下几个因素来选择最合适的节点：</p>
<ul>
<li><strong>资源需求</strong>：Pod 所请求的 CPU、内存和存储等资源。</li>
<li><strong>节点资源</strong>：节点上的可用资源，调度器会检查各节点的资源使用情况，选择最合适的节点。</li>
<li><strong>调度策略</strong>：<strong>调度器还会根据预定义的调度策略（如亲和性、反亲和性、污点和容忍等）来进一步筛选节点</strong></li>
</ul>
<h3 id="2_1">2 节点选择</h3>
<p>调度器基于多种因素，选择适合的节点来运行 Pod。调度器会考虑以下几个方面：</p>
<p><strong>资源请求和限制</strong>：</p>
<p>每个 Pod 都可以指定 CPU 和内存的请求（request）与限制（limit）。调度器会根据这些需求来选择节点。如果某个节点的资源足够满足 Pod 的请求，调度器就会选择这个节点。</p>
<p><strong>节点亲和性（Node Affinity）</strong>：</p>
<p>节点亲和性允许你将 Pod 调度到特定的节点上，基于节点的标签。例如，你可以将某些 Pod 调度到具有特定标签（如 zone=us-west-1）的节点上</p>
<p><strong>Pod 亲和性和反亲和性（Pod Affinity and Anti-Affinity）</strong>：</p>
<p>Pod 亲和性用于控制 Pod 的调度规则，以便将某些 Pod 安排在一起（例如，某些 Pod 应该运行在一起，或者在同一节点上共享资源）。Pod 反亲和性用于确保某些 Pod 不会调度到一起，避免共享资源过多导致性能问题</p>
<p><strong>污点和容忍（Taints and Tolerations）：</strong></p>
<p>污点和容忍是一种机制，用于将某些节点标记为“不适合”运行某些 Pod。污点是一个节点的标记，表示该节点不适合运行某些类型的 Pod，除非这些 Pod 有相应的容忍（Toleration）。这种机制常用于将节点标记为只能运行特定类型的 Pod，例如专用的硬件节点（如 GPU）。</p>
<p><strong>负载均衡</strong>：</p>
<p>调度器会根据集群中节点的负载情况来均衡调度 Pod。如果某个节点的资源已经接近饱和，调度器会选择一个资源比较空闲的节点来调度新的 Pod。</p>
<h3 id="3_2">3 调度算法和优先级</h3>
<p>调度器会根据不同的优先级和算法来决定哪个节点最适合运行某个 Pod。Kubernetes 调度器使用以下机制来决策：</p>
<ul>
<li><strong>Filter（过滤）</strong>：<strong>调度器首先会进行过滤</strong>，<ul>
<li><strong>剔除不符合条件的节点</strong>。: 例如，如果某个节点的资源无法满足 Pod 的请求，或者该节点上运行着不允许该 Pod 运行的服务，那么该节点会被排除。</li>
</ul>
</li>
<li><strong>Score（打分）</strong>：在剩余的候选节点中，调度器会根据各节点的条件和策略进行打分，选择得分最高的节点。</li>
<li><strong>优先级</strong>：Kubernetes 允许根据不同的调度策略设置优先级。<strong>例如，优先选择资源空闲的节点，或根据节点标签、硬件特性（如 GPU 支持）来选择节点</strong>。</li>
</ul>
<h3 id="4_2">4 容器调度中的资源管理</h3>
<h4 id="requestlimit"><strong>请求（Request）与限制（Limit）</strong></h4>
<ul>
<li>
<p>请求是容器启动时所需的最小资源（如 CPU 和内存）。调度器会基于请求来评估是否有足够资源的节点来运行 Pod。</p>
</li>
<li>
<p><strong>限制是容器的最大资源使用限制。如果容器超过限制，Kubernetes 会采取措施（如杀掉容器）来限制资源的使用</strong>。请求和限制的合理配置可以确保容器的资源得到有效分配，避免节点资源过载</p>
</li>
</ul>
<h4 id="resource-quotas">Resource Quotas（资源配额）：</h4>
<p>Kubernetes 支持在命名空间级别设置资源配额，限制每个命名空间中可以使用的资源总量。资源配额用于控制不同团队或服务对资源的占用，避免单个应用占用过多的集群资源。</p>
<h4 id="_1">调度器的扩展性</h4>
<p><strong>自定义调度器：</strong></p>
<ul>
<li>Kubernetes 允许用户自定义调度器，针对特定需求（如性能优化、特定硬件需求等）设计自己的调度策略。</li>
<li>例如，Kubernetes 可以通过使用多个调度器，来支持更复杂的调度需求：<strong>例如针对某些特殊硬件（如 GPU）使用自定义调度器，其他工作负载使用默认调度器</strong>。</li>
</ul>
<h4 id="pod">pod 的生命周期管理</h4>
<p>Pod 管理控制器：如 Deployment、StatefulSet、DaemonSet、ReplicaSet 等控制器会确保 Pod 持续按照期望状态运行。调度器与这些控制器紧密配合，确保 Pod 能够正确地调度并按需扩展</p>
<p>总结：</p>
<p>Kubernetes 的资源调度是一个复杂的过程，涉及对节点资源的细粒度管理、不同策略的应用以及优先级的判断。调度器在集群资源的分配中起着至关重要的作用，确保容器能够根据资源请求、亲和性、污点和容忍等规则高效、可靠地运行在适当的节点上。调度器还支持高度的可扩展性和自定义功能，使得 Kubernetes 可以适应各种不同的使用场景和负载要求。</p>
<h2 id="4-cni">4 CNI 并且描述下它们之间的区别</h2>
<p>在 Kubernetes 环境中，CNI (Container Network Interface) 插件用于提供和管理容器之间的网络连接。不同的 CNI 插件具有不同的网络架构、性能、功能和适用场景。以下是一些常见的 CNI 插件及其区别：</p>
<h3 id="flannel">Flannel</h3>
<p>Flannel 是最早的 Kubernetes 网络插件之一，简单易用，广泛应用于生产环境。</p>
<p><strong>特点：</strong></p>
<ul>
<li><strong>简单性</strong>：Flannel 非常容易设置，主要用于为 Pod 提供网络地址分配。</li>
<li><strong>支持多种后端</strong>：Flannel 支持多种后端实现，包括 <strong>VXLAN、host-gw、AWS VPC</strong> 等。最常见的是 VXLAN 模式，它封装容器流量并通过 UDP 通道传输。</li>
<li><strong>单一网络模型</strong>：Flannel 提供的网络模型不支持多租户功能。Flannel 仅提供了每个节点的 IP 地址池，支持 Pod 之间的直接通信。</li>
</ul>
<p><strong>优点：</strong></p>
<ul>
<li>简单易用，适合小型和中型集群。</li>
<li>不依赖外部服务。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>仅支持平面网络（没有高级的网络策略和 QoS）。</li>
<li>网络隔离性差，适合简单的场景，扩展性较弱</li>
</ul>
<h3 id="calico">Calico</h3>
<p>Calico 是一个强大的网络插件，支持高性能的容器网络、网络策略和多云环境</p>
<p><strong>特点</strong>：</p>
<ul>
<li><strong>网络策略</strong>：Calico 是 Kubernetes 中最流行的 CNI 插件之一，提供强大的 网络策略，可以对流量进行细粒度控制，包括 Ingress 和 Egress 策略。</li>
<li><strong>支持 BGP 路由</strong>：Calico 使用 BGP 协议来提供跨节点的路由信息，它也支持 IP-in-IP 模式来封装流量。</li>
<li><strong>性能优越</strong>：Calico 直接使用 Linux 内核的路由功能，提供非常高的性能。</li>
<li><strong>支持网络隔离</strong>：通过 NetworkPolicy，可以对不同的应用和租户进行流量控制和隔离</li>
</ul>
<p><strong>优点</strong></p>
<p>• 提供高性能，适用于大规模生产环境。
• 提供完整的网络策略功能，支持跨云环境和混合云。
• 高度可定制化，支持多种后端（<strong>BGP、VXLAN、IP-in-IP</strong>）。</p>
<p>缺点：</p>
<ul>
<li>配置和维护相对复杂。</li>
<li>对某些环境可能需要额外的网络硬件支持（如 BGP 路由）。</li>
</ul>
<h3 id="cilium">Cilium</h3>
<p><strong>Cilium 基于 eBPF（extended Berkeley Packet Filter）</strong>技术，它提供高性能、高灵活性和强大的网络安全能力，尤其适合现代云原生架构</p>
<p><strong>特点</strong></p>
<ul>
<li><strong>eBPF：Cilium 使用 eBPF 来进行内核级流量控制，提供比传统网络插件更低的延迟和更高的吞吐量</strong>。</li>
<li><strong>网络安全</strong>：提供高级的 L7（应用层）网络策略，支持基于 HTTP、gRPC 等协议的细粒度流量控制。</li>
<li><strong>多租户支持</strong>：支持容器网络的细粒度隔离，适合多租户和微服务架构。</li>
<li><strong>性能优化</strong>：由于 eBPF 可以直接操作 Linux 内核，因此其性能非常高</li>
</ul>
<p><strong>优点</strong></p>
<ul>
<li>基于 eBPF 提供极低的延迟和高吞吐量。</li>
<li>提供 L7 网络策略支持，增强网络安全。</li>
<li>可以在云原生环境中使用，支持微服务和多租户隔离。</li>
<li>更好地与容器安全和监控工具集成</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>性能相对较低，不适合高性能网络需求的场景。</li>
<li>相比于 Calico，网络策略功能较弱，扩展性有限。</li>
</ul>
<h3 id="canal">Canal</h3>
<p>Canal 是 Calico 和 Flannel 的结合，它利用 Flannel 来处理网络和 IP 地址管理，利用 Calico 来提供网络策略功</p>
<p><strong>特点：</strong></p>
<ul>
<li>组合优势：结合了 Flannel 的简易性和 Calico 的强大功能，提供了简单的网络部署和强大的网络策略支持。</li>
<li>可扩展性：支持 IP-in-IP、VXLAN 和 BGP 等多种网络模式，适应不同规模的集群需求。</li>
</ul>
<p><strong>优点：</strong></p>
<p>• 既提供了简单的 Flannel 网络功能，又支持 Calico 网络策略。
• 适合那些需要简单配置但又想要支持网络策略的环境</p>
<p><strong>缺点：</strong></p>
<ul>
<li>配置和维护相比纯粹的 Calico 或 Flannel 更加复杂。</li>
<li>对于一些复杂场景，可能需要更多的资源进行调优</li>
</ul>
<h3 id="kube-router">Kube-router</h3>
<p>Kube-router 是一个轻量级的 CNI 插件，旨在简化 Kubernetes 网络功能，并且可以提供高效的网络路由、负载均衡和网络策略功能</p>
<p><strong>特点：</strong></p>
<ul>
<li><strong>简化设计</strong>：Kube-router 旨在减少 Kubernetes 网络的复杂性，提供一个集中化的网络模型。</li>
<li><strong>支持 BGP 和路由</strong>：通过 BGP 进行跨节点路由配置，支持多租户的流量隔离。
• <strong>内置负载均衡</strong>：Kube-router 提供了服务和 Pod 的内置负载均衡功能。</li>
</ul>
<p>缺点：</p>
<ul>
<li>相比于 Calico 和 Cilium，功能可能略显简化，不支持 L7 网络策略。</li>
<li>不如 Calico 那样被广泛使用，社区支持较少。</li>
</ul>
<h3 id="cni"><strong>选择CNI插件时的考虑因素</strong></h3>
<ul>
<li><strong>集群规模</strong>：对于小规模集群，Flannel 或 Weave Net 可能已经足够；对于大规模和高性能需求的集群，Calico 或 Cilium 更合适。</li>
<li><strong>安全性</strong>：如果需要高级的安全功能和网络策略，建议选择 Calico 或 Cilium。</li>
<li><strong>网络性能</strong>：对于要求高性能、低延迟的网络，Cilium 和 Calico（使用 BGP）是更好的选择。</li>
<li><strong>简单性</strong>：如果简化配置和快速部署是您的首要目标，Flannel 或 Weave Net 可能是更好的选择。</li>
</ul>
<h2 id="5-liveness-probereadiness-probestartup-probe">5 存活探针（Liveness Probe）、就绪探针（Readiness Probe）、启动探针（Startup Probe）的区别及适用场景？</h2>
<h3 id="1-liveness-probe">1. 存活探针（Liveness Probe）</h3>
<p>目的：<strong>检测容器是否处于运行状态</strong>，若失败则重启容器。</p>
<p><strong>适用场景：</strong></p>
<ul>
<li><strong>应用程序因死锁或死循环无法响应请求时自动恢复</strong>。</li>
<li>例如：Web 服务长时间无响应需强制重启。</li>
</ul>
<p><strong>配置示例</strong></p>
<pre><code>livenessProbe:
  httpGet:
    path: /healthz
    port: 8080
  initialDelaySeconds: 5
  periodSeconds: 10
</code></pre>
<p>可以根据用户自定义规则来判定pod是否健康，如果livenessProbe探针探测到容器不健康，则<strong>kubelet会根据其重启策略来决定是否重启，如果一个容器不包含livenessProbe探针，</strong>则kubelet会认为容器的livenessProbe探针的返回值永远成功。</p>
<h3 id="2-readiness-probe">2. 就绪探针（Readiness Probe）</h3>
<p><strong>目的</strong>：检测容器是否准备好接收流量，若失败则从<strong> Service 的 Endpoints 中移除</strong>。</p>
<p><strong>适用场景：</strong></p>
<ul>
<li><strong>应用启动时需要加载大量数据（如缓存预热）</strong>。</li>
<li>依赖外部服务（如数据库）初始化完成后才可提供服务。</li>
</ul>
<p>配置示例</p>
<pre><code>readinessProbe:
  exec:
    command: [&quot;/bin/check-db-connection.sh&quot;]
  initialDelaySeconds: 10
  periodSeconds: 5
</code></pre>
<p>同样是可以根据用户自定义规则来判断pod是否健康，<strong>如果探测失败，控制器会将此pod从对应service的endpoint列表中移除</strong>，从此不再将任何请求调度到此Pod上，直到下次探测成功。</p>
<h3 id="3-startup-probe">3. 启动探针（Startup Probe）</h3>
<p><strong>目的</strong>：延迟其他探针的启动，直到容器成功启动。</p>
<p><strong>适用场景：</strong></p>
<ul>
<li>旧应用启动时间较长（如 Java 应用需数分钟初始化）。</li>
<li>避免存活/就绪探针在启动阶段误判导致容器重启</li>
</ul>
<p><strong>配置示例</strong></p>
<pre><code>startupProbe:
  httpGet:
    path: /startup
    port: 8080
  failureThreshold: 30  # 最长等待 30*5=150 秒
  periodSeconds: 5
</code></pre>
<p><strong>启动检查机制，应用一些启动缓慢的业务，避免业务长时间启动而被上面两类探针kill掉，这个问题也可以换另一种方式解决，就是定义上面两类探针机制时，初始化时间定义的长一些即可</strong>。</p>
<ul>
<li><code>initialDelaySeconds</code>：初始第一次探测间隔，用于应用启动的时间，<strong>防止应用还没启动而健康检查失败</strong></li>
<li><code>periodSeconds</code>：<strong>检查间隔，多久执行probe检查，默认为10s；</strong></li>
<li><code>timeoutSeconds</code>：<strong>检查超时时长</strong>，探测应用timeout后为失败；</li>
<li><code>successThreshold</code>：<strong>成功探测阈值，表示探测多少次为健康正常，默认探测1次</strong>。</li>
</ul>
<p><strong>1）Exec</strong>： 通过执行命令的方式来检查服务是否正常，比如使用<code>cat</code>命令查看<code>pod</code>中的某个重要配置文件是否存在，若存在，则表示pod健康。反之异常。</p>
<p><strong>2）Httpget</strong>： <strong>通过发送http/htps请求检查服务是否正常，返回的状态码为200-399则表示容器健康（注http get类似于命令curl -I）</strong>。</p>
<p><strong>3）tcpSocket：</strong> 通过容器的IP和Port执行TCP检查，如果能够建立TCP连接，则表明容器健康，<strong>这种方式与HTTPget的探测机制有些类似，tcpsocket健康检查适用于TCP业务</strong>。</p>
<h2 id="2-kubernetes-qos-guaranteedburstablebesteffort">2: Kubernetes 的 QoS 分类（Guaranteed、Burstable、BestEffort）及其资源管理策略？</h2>
<h3 id="1-guaranteed">1. Guaranteed</h3>
<p>条件：所有容器的 <strong>CPU/Memory 均设置 limits=requests</strong>。</p>
<p>资源保障：</p>
<ul>
<li>严格保证资源分配，适用于核心服务（如数据库）。</li>
<li><strong>OOM 优先级最低，不易被杀死</strong></li>
</ul>
<h3 id="2-burstable">2. Burstable</h3>
<ul>
<li><strong>条件</strong>：至少一个容器设置了 requests 但未满足 limits=requests。</li>
<li>资源弹性：<ul>
<li>允许突发使用资源，<strong>适用于多数应用（如 Web 服务）</strong>。</li>
<li><strong>OOM 优先级高于 Guaranteed</strong>。</li>
</ul>
</li>
</ul>
<h3 id="3-besteffort">3. BestEffort</h3>
<p>条件：所有容器均未设置 requests 和 limits。</p>
<p><strong>资源竞争</strong>：</p>
<ul>
<li>资源不足时优先被终止，适用于非关键任务（如批处理作业）</li>
<li>OOM 优先级最高。</li>
</ul>
<h3 id="4-pod-qos">4 如何为 Pod 配置 QoS 策略？举例说明不同场景的选择。</h3>
<p>配置方法：<strong>通过 resources.requests 和 resources.limits 定义资源需求</strong>。</p>
<p>场景示例：</p>
<h4 id="1-guaranteed_1"><strong>1. Guaranteed</strong></h4>
<pre><code>containers:
- name: redis
  resources:
    requests:
      cpu: &quot;1&quot;
      memory: &quot;2Gi&quot;
    limits:
      cpu: &quot;1&quot;
      memory: &quot;2Gi&quot;
</code></pre>
<p><strong>适用场景：MySQL、Redis 等需要稳定资源的服务。</strong></p>
<h4 id="2-burstable_1">2. Burstable</h4>
<pre><code>containers:
- name: web
  resources:
    requests:
      cpu: &quot;0.5&quot;
      memory: &quot;1Gi&quot;
    limits:
      cpu: &quot;2&quot;
      memory: &quot;4Gi&quot;
</code></pre>
<p><strong>适用场景：Web 应用需应对流量高峰。</strong></p>
<h4 id="3-besteffort_1">3. BestEffort</h4>
<pre><code>containers:
- name: batch-job
  resources: {} 
</code></pre>
<p>适用场景：日志清理、临时数据分析任务。</p>
<h3 id="5-pod-qos">5 如果一个 Pod 频繁重启，如何通过探针和 QoS 策略排查问题？</h3>
<h4 id="1_2"><strong>1. 检查探针配置</strong></h4>
<ul>
<li>确认存活探针是否过于敏感（<strong>如检测间隔 periodSeconds 过短</strong>）。</li>
<li>查看日志确认探针失败原因（如 <code>/healthz</code> 接口超时）。</li>
</ul>
<h4 id="2_2">2. 分析资源限制</h4>
<ul>
<li>检查 Pod 的 QoS 类别是否为 BestEffort，<strong>导致资源不足被 OOMKill</strong>。</li>
<li><strong>调整 requests/limits 为 Burstable 或 Guaranteed</strong>。</li>
</ul>
<h4 id="3_3">3. 查看事件日志</h4>
<pre><code>kubectl describe pod &lt;pod-name&gt;
</code></pre>
<p>确认是否因资源不足（OutOfMemory）或探针失败（Liveness probe failed）触发重启。</p>
<h3 id="6-qos">6 如何通过 QoS 和探针优化高密度集群的资源利用率？</h3>
<p><strong>策略：</strong></p>
<ol>
<li>优先级调度：核心服务设为 Guaranteed，抢占资源能力低但稳定性高。</li>
<li>动态调整：使用 Vertical Pod Autoscaler（VPA）自动优化 requests/limits。</li>
<li>探针精细化：<ul>
<li>启动探针避免过早检测导致重启。</li>
<li>就绪探针确保依赖服务就绪后再接收流量。</li>
</ul>
</li>
</ol>
<h2 id="6-kubernetes">6. 在 Kubernetes 中，如何配置资源请求和限制？</h2>
<p>资源请求和限制可以在 Pod 的定义文件中通过 resources 字段进行配置。它包括两部分：</p>
<ul>
<li><strong>请求（request）</strong>：<strong>容器启动时所需的最低资源</strong>。Kubernetes 使用请求来决定 Pod 调度到哪个节点。</li>
<li><strong>限制（limit）</strong>：<strong>容器能够使用的最大资源。</strong>当容器超过这个限制时，Kubernetes 会限制其资源使用，避免影响其他容器的运行。</li>
</ul>
<p>例如：</p>
<pre><code>apiVersion: v1
kind: Pod
metadata:
  name: mypod
spec:
  containers:
  - name: mycontainer
    image: myimage
    resources:
      requests:
        memory: &quot;64Mi&quot;
        cpu: &quot;250m&quot;
      limits:
        memory: &quot;128Mi&quot;
        cpu: &quot;500m&quot;
</code></pre>
<h2 id="7-kubernetes-horizontal-pod-autoscalerhpa">7. Kubernetes 中的 Horizontal Pod Autoscaler（HPA）是如何工作的？</h2>
<p>Horizontal Pod Autoscaler（HPA）根据 Pod 的 CPU 使用率或其他自定义指标，自动调整 Pod 的副本数。</p>
<p>HPA 通过持续监控指标，并根据设定的阈值（如 CPU 或内存）来自动扩展或缩减 Pod 数量。</p>
<p>配置 HPA 时，需要指定最小副本数、最大副本数和目标指标。</p>
<p>例如，下面是一个基于 CPU 使用率的 HPA 配置示例：</p>
<pre><code>apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: myapp-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: myapp
  minReplicas: 1
  maxReplicas: 10
  metrics:
type: Resource
resource:
  name: cpu
  target:
    type: Utilization
    averageUtilization: 50
</code></pre>
<h3 id="kubernetes-pod">Kubernetes 中如何进行 Pod 弹性伸缩</h3>
<p>Pod 弹性伸缩可以通过以下几种方式实现：</p>
<ul>
<li><strong>Horizontal Pod Autoscaler（HPA）</strong>：根据 CPU、内存或自定义指标来动态增加或减少 Pod 的副本数。</li>
<li><strong>Vertical Pod Autoscaler（VPA）</strong>：根据 Pod 使用的资源自动调整其 CPU 和内存的请求和限制。</li>
<li><strong>Cluster Autoscaler</strong>：自动调整集群的规模，根据节点的资源需求自动增加或减少节点的数量。</li>
</ul>
<h3 id="kuernetes">Kuernetes 中的资源限制和请求设置为什么重要？</h3>
<p>设置资源请求和限制对于确保集群资源合理分配非常重要</p>
<ul>
<li><strong>资源请求</strong>：确保每个容器在节点上获得足够的资源，可以保证应用的正常运行。</li>
<li><strong>资源限制</strong>：防止容器使用过多资源，影响其他容器的正常运行。特别是在高负载场景中，合理设置资源限制可以避免资源竞争，保证整个系统的稳定性。</li>
</ul>
<h2 id="8-kubernetes">8 如何使用 Kubernetes 进行资源隔离？</h2>
<p>Kubernetes 提供了多种方式来实现资源隔离：</p>
<ul>
<li><strong>Namespace</strong>：用于将集群中的资源划分为不同的虚拟集群，不同的团队或应用可以在不同的命名空间中工作，互不干扰。</li>
<li><strong>Resource Requests and Limits</strong>：通过资源请求和限制来确保每个容器有足够的资源，并防止资源争夺。</li>
<li><strong>Node Affinity and Taints/Tolerations</strong>：通过节点亲和性、污点和容忍度来限制某些 Pod 只能在特定节点上运行，从而实现更细粒度的资源隔离。</li>
</ul>
<h2 id="9-kubernetes-pod">9. Kubernetes 中如何实现 Pod 的高可用性？</h2>
<p>Kubernetes 提供了多种方式来确保 Pod 的高可用性：</p>
<ul>
<li><strong>副本集（ReplicaSet）</strong>：通过 ReplicaSet 来确保某个 Pod 的副本数始终保持在指定数量。ReplicaSet 可以自动创建和删除 Pod，以确保所需数量的 Pod 始终运行。</li>
<li><strong>部署（Deployment）</strong>：Deployment 是一种管理 Pod 副本集的控制器，支持滚动更新和回滚，确保服务可用。</li>
<li><strong>Pod Disruption Budgets（PDB）</strong>：<strong>通过 Pod Disruption Budgets 来限制可以同时被中断的 Pod 数量</strong>，确保在升级或维护时，至少有一定数量的 Pod 在运行。</li>
<li><strong>多节点调度</strong>：通过分布式调度和 Affinity 策略，将 Pod 调度到多个物理节点上，避免单点故障。</li>
</ul>
<h2 id="10-kubernetes">10 Kubernetes 如何处理网络通信？</h2>
<p>Kubernetes 使用 CNI（容器网络接口） 来处理网络通信。以下是 Kubernetes 网络的关键概念：</p>
<ul>
<li>Pod 网络：每个 Pod 在集群中都有自己的 IP 地址，所有 Pod 都可以直接相互通信，无需 NAT。<strong>Kubernetes 通过 CNI 插件（如 Calico、Flannel、Weave）实现 Pod 网络</strong>。</li>
<li><strong>服务（Service）</strong>：Kubernetes 中的服务提供了对外暴露应用的方式，使用服务的 ClusterIP、NodePort 或 LoadBalancer 类型，可以使 Pod 对外可访问。</li>
<li><strong>DNS</strong>：Kubernetes 集群内自动为每个服务分配一个 DNS 名称，使得 Pod 通过 DNS 进行服务发现和通信</li>
</ul>
<h2 id="11-kubernetes-resource-quota">11 Kubernetes 中如何进行资源的限额管理（Resource Quota）</h2>
<p><strong>资源配额（ResourceQuota）</strong>用于限制一个命名空间中可以使用的资源量，避免单个团队或应用消耗过多资源，影响集群的稳定性。通过定义资源配额来管理 CPU、内存、Pod 数量等</p>
<p>例如：</p>
<pre><code>apiVersion: v1
kind: ResourceQuota
metadata:
  name: example-quota
spec:
  hard:
    cpu: &quot;10&quot;
    memory: 50Gi
    pods: &quot;10&quot;
</code></pre>
<h2 id="12-kubernetes-taints-tolerations">12. Kubernetes 中的 Taints 和 Tolerations 如何工作？</h2>
<p>Taints 和 Tolerations 是 Kubernetes 用来控制 Pod 调度的机制：</p>
<ul>
<li><strong>Taints：是节点上设置的标记，表示某些 Pod 不应该调度到该节点，除非它们能够容忍这个 taint。Taints 定义了节点的“污点</strong>”。</li>
<li><strong>Tolerations：是 Pod 上设置的标记，表示该 Pod 可以容忍某些节点上的 Taints</strong>。只有当 Pod 能够容忍节点上的 Taints 时，才能调度到该节点。</li>
</ul>
<p>通过 Taints 和 Tolerations，可以实现对特定节点的调度控制，如避免将某些 Pod 调度到资源紧张或不合适的节点上。</p>
<h2 id="13-kubernetes-service-discovery">13 Kubernetes 中如何实现服务发现（Service Discovery）？</h2>
<p>DNS 来实现服务发现，每个服务都会自动分配一个 DNS 名称，其他 Pod 可以通过该名称访问该服务。例如，如果创建了一个名为 myapp 的服务，它会自动在 DNS 中分配一个 <strong>myapp.default.svc.cluster.local 的地址，集群内的其他 Pod 可以通过这个地址访问该服务</strong>。</p>
<h2 id="14-kubernetes-pod">14. Kubernetes 的 Pod 生命周期是如何管理的？</h2>
<p>Kubernetes Pod 的生命周期包括以下几个阶段：</p>
<ul>
<li><strong>Pending</strong>：Pod 已被调度到节点，但容器还没有启动。</li>
<li><strong>Running</strong>：Pod 的容器已经启动并正在运行。</li>
<li><strong>Succeeded</strong>：Pod 中的所有容器都成功终止并完成任务。</li>
<li><strong>Failed</strong>：Pod 中的容器已终止且失败，无法重新启动。</li>
<li><strong>Unknown</strong>：Kubernetes 无法确定 Pod 的状态，通常是由于与节点的通信失败。</li>
</ul>
<p>Kubernetes 通过控制器（如 Deployment、StatefulSet 等）来管理 Pod 的生命周期，确保在 Pod 失败或被删除时，可以自动恢复或创建新的 Pod。</p>
<h2 id="15-kubernetes-networkpolicy">15. Kubernetes 中如何实现网络策略（NetworkPolicy）？</h2>
<p>NetworkPolicy 用于控制 Pod 之间的通信，通过定义规则来限制或允许流量。<strong>前提是你的 CNI 支持 NetworkPolicy，比如 Calico 就支持</strong></p>
<p><mark>它可以基于 Pod 标签、命名空间、IP 地址等进行访问控制。<strong>它支持 Ingress（流入）和 Egress（流出）规则</strong></mark>。 </p>
<p><strong>例如，允许只有标签为 role=frontend 的 Pod 可以访问标签为 role=backend 的 Pod</strong></p>
<pre><code>apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: allow-frontend-to-backend
spec:
  podSelector:
    matchLabels:
      role: backend
  ingress:
  - from:
    - podSelector:
        matchLabels:
          role: frontend
</code></pre>
<h2 id="16-kubernetes">16 Kubernetes 中如何处理节点故障？</h2>
<p>Kubernetes 使用节点监控和调度策略来处理节点故障：</p>
<ul>
<li><strong>节点监控</strong>：Kubernetes 的 kubelet 组件定期向 master 节点报告节点状态，如果某个节点长时间无法与 master 节点通信，Kubernetes 会标记该节点为不可用（<strong>NotReady</strong>）。</li>
<li><strong>Pod 重新调度</strong>：当节点发生故障，调度器会重新将 Pod 调度到其他健康节点上。为了保证 Pod 高可用，<strong>可以配置 PodDisruptionBudget 和 ReplicaSet，确保 Pod 可以在其他节点上运行</strong>。</li>
</ul>
<h2 id="17-kubernetes-statefulset-deployment">17. Kubernetes 中的 StatefulSet 与 Deployment 有什么区别？</h2>
<p>StatefulSet 和 Deployment 都是用于管理 Pod 的控制器，但它们适用于不同类型的应用：</p>
<ul>
<li>Deployment：适用于无状态应用，Pod 的副本可以相互替换，Pod 的名字和顺序没有重要意义。</li>
<li>StatefulSet：<strong>适用于有状态应用</strong>，<ul>
<li>需要保持 Pod 的唯一标识和顺序。<strong>StatefulSet 会为每个 Pod 提供一个稳定的持久存储和网络标识</strong>。</li>
</ul>
</li>
</ul>
<h2 id="18-kubernetes-persistentvolumepv-persistentvolumeclaimpvc">18 Kubernetes 中的 PersistentVolume（PV）和 PersistentVolumeClaim（PVC）是什么？它们如何工作？</h2>
<p>Kubernetes 中的 PersistentVolume（PV） 和 PersistentVolumeClaim（PVC） 是用于管理持久存储的资源：</p>
<ul>
<li>PersistentVolume（PV）：是集群中的一个存储资源，它表示一个具体的存储设备，可能是一个 NFS 存储、云存储（如 AWS EBS）或本地磁盘等。</li>
<li>PersistentVolumeClaim（PVC）：是用户向 Kubernetes 申请持久存储的一种方式，它定义了所需存储的大小、访问模式等要求。Kubernetes 根据 PVC 自动绑定适当的 PV。</li>
</ul>
<h2 id="19-kubernetes">19. Kubernetes 中的监控和日志如何结合使用？</h2>
<p>Kubernetes 的监控和日志结合使用可以帮助开发和运维人员更好地掌握集群状态和故障排查：</p>
<ul>
<li>监控：使用 Prometheus 来收集集群和应用的指标（如 CPU、内存、网络流量等），通过 Grafana 可视化展示。</li>
<li>日志管理：使用 ELK Stack（Elasticsearch、Logstash、Kibana）来集中管理和查询 Kubernetes 的日志。</li>
<li>集成：将 Prometheus 和 Grafana 与日志管理工具（如 Fluentd 或 Filebeat）集成，通过统一的面板和报警系统，提高监控和日志的响应效率</li>
</ul>
<h2 id="20-kubernetes">20. Kubernetes 中如何处理存储资源的动态供给？</h2>
<p>Kubernetes 通过 <strong>StorageClass 和 动态存储供给（Dynamic Provisioning）</strong> 实现存储资源的自动化管理。通过定义 StorageClass，<strong>用户可以自动为 PVC 申请合适的存储类型（如 SSD、HDD 或云存储）</strong>。</p>
<p>使用 StorageClass，可以定义不同存储类型的参数，并在 PVC 中指定该 StorageClass，Kubernetes 会根据该配置自动创建和绑定 PV。</p>
<h2 id="21-kubernetes-affinity-anti-affinity">21. Kubernetes 中的 Affinity 和 Anti-Affinity 是如何工作的？</h2>
<p>Kubernetes 中的 Affinity 和 Anti-Affinity 是控制 Pod 调度策略的机制，用于指定 Pod 在节点上的调度规则：</p>
<ul>
<li>Affinity：允许指定 Pod 在相同节点上调度，或在特定条件下与其他 Pod 调度在一起。例如，可以使用 nodeAffinity 让 Pod 只调度到特定标签的节点上。</li>
<li>Anti-Affinity：用于确保 Pod 不与其他指定的 Pod 调度在同一节点或同一可用区。例如，可以确保某些 Pod 在不同节点上运行，以避免单点故障。</li>
</ul>
<h2 id="22-kubernetes-pod">22 Kubernetes 中如何处理 Pod 的优先级和抢占？</h2>
<p>Kubernetes 支持通过 PodPriority 和 PriorityClass 来设置 Pod 的优先级。高优先级的 Pod 可以抢占低优先级的 Pod 资源，确保关键服务优先运行</p>
<ul>
<li><strong>PriorityClass：通过为 Pod 设置不同的优先级，控制 Pod 在资源争夺时的调度顺序</strong>。</li>
<li>Pod抢占：如果集群资源紧张，Kubernetes 会终止优先级较低的 Pod 来为高优先级的 Pod 提供资源</li>
</ul>
<h2 id="23-kubernetes-ingress-egress">23 Kubernetes 中的 Ingress 和 Egress 是如何控制流量的？</h2>
<p>Kubernetes 提供了 Ingress 和 Egress 控制流量进出集群的方式：</p>
<ul>
<li><strong>Ingress：是一种 API 资源，允许外部流量通过 HTTP/HTTPS 访问 Kubernetes 内部服务</strong>。<strong>Ingress 通常由 Ingress Controller 实现（如 Nginx Ingress Controller）</strong>。</li>
<li><strong>Egress</strong>：是集群内的 Pod 发起的流量访问外部网络。可以通过配置 NetworkPolicy 来控制 Pod 的出站流量，限制哪些 Pod 可以访问外部服务。</li>
</ul>
<h2 id="24-kubernetes-rbacrole-based-access-control">24 Kubernetes 中的 RBAC（Role-Based Access Control）如何控制权限？</h2>
<p>RBAC 是 Kubernetes 中的权限管理系统，用于控制用户或服务账户在集群中的操作权限。RBAC 通过定义 Role 和 RoleBinding 来授予权限</p>
<ul>
<li>Role：定义在某个命名空间内的权限，如访问资源的权限（Pods、Services 等）。</li>
<li>ClusterRole：定义集群范围内的权限。</li>
<li><strong>RoleBinding 和 ClusterRoleBinding：将 Role 或 ClusterRole 绑定到特定的用户或服务账户</strong></li>
</ul>
<h2 id="25-kubernetes">25. Kubernetes 中如何处理事件日志？</h2>
<p>Kubernetes 中的事件日志用于记录集群状态和各类事件，如 Pod 启动、容器重启、资源限制等。<strong>可以使用 kubectl get events 命令查看事件日志</strong>。</p>
<ul>
<li>Kubernetes 中的事件是由 Kubelet、Controller Manager 等组件生成的。</li>
<li>集成日志管理：可以使用 Fluentd、Elasticsearch 和 Kibana（ELK Stack） 等工具来集中管理和分析 Kubernetes 事件日志。</li>
</ul>
<h2 id="26-kubernetes-poddisruptionbudgetpdb">26. Kubernetes 中的 <strong>PodDisruptionBudget（PDB）</strong>是什么？如何使用？</h2>
<p><strong>PodDisruptionBudget（PDB）</strong></p>
<p>用于控制 Pod 的可中断性，确保在升级或维护时至少有一定数量的 Pod 处于运行状态。</p>
<p><strong>PDB 通过定义 maxUnavailable 或 minAvailable 来保证在允许的范围内，Pod 可以被中断。</strong></p>
<p>例如，设置一个 PDB，确保最多只能有一个 Pod 被中断：</p>
<pre><code>apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: myapp-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: myapp
</code></pre>
<h2 id="27-kubernetes-resource-manager">27 Kubernetes 中的资源管理器（Resource Manager）如何确保集群资源的公平分配？</h2>
<p>Kubernetes 的资源管理器（Scheduler） 通过以下方式确保资源的公平分配：</p>
<ul>
<li>资源请求和限制<strong>：每个 Pod 在调度时，Kubernetes 会根据资源请求和限制来选择最合适的节</strong>点。</li>
<li>QoS 策略：通过 QoS 类别（Guaranteed、Burstable、BestEffort）来管理 Pod 的优先级和资源分配。</li>
<li>调度策略：如资源亲和性、节点亲和性等，帮助在资源有限的情况下，做出最合适的资源调度决策。</li>
</ul>
<h2 id="28-four-types-of-k8s-services">28 Four types of k8s services</h2>
<p>我们在定义<code>Service</code>的时候可以指定一个自己需要的类型的<code>Service</code>，如果不指定的<strong>话默认是<code>ClusterIP</code>类型</strong>。</p>
<p>我们可以使用的服务类型如下：</p>
<ul>
<li><code>ClusterIP</code>：通过集群的<strong>内部 IP 暴露服务</strong>，选择该值，<strong>服务只能够在集群内部可以访问，这也是默认的<code>ServiceType</code></strong>。</li>
<li><code>NodePort</code>：通过每个 <strong><code>Node节点上的IP</code></strong> 和 <strong><code>静态端口（NodePort）</code></strong> 暴露服务。NodePort 服务会路由到 ClusterIP 服务，这个 ClusterIP 服务会自动创建。通过请求 : <strong>可以从集群的外部访问一个 NodePort 服务</strong>。</li>
<li><code>LoadBalancer</code>：<strong>使用云提供商的负载局衡器，可以向外部暴露服务</strong>。外部的负载均衡器可以路由到 <code>NodePort</code> 服务和 <code>ClusterIP</code> 服务，这个需要结合具体的云厂商进行操作。</li>
<li><code>ExternalName</code>：<strong>通过返回 CNAME 和它的值，可以将服务映射到 <code>externalName</code> 字段的内容</strong>（例如， <code>foo.bar.example.com</code>）。没有任何类型代理被创建，这只有 Kubernetes 1.7 或更高版本的 kube-dns 才支持。</li>
</ul>
<h2 id="29-k8s-service-ependpoints">29 k8s 的 <code>service</code> 和 <code>ep(endpoints)</code> 是如何关联和相互影响的。</h2>
<p><strong><code>Service</code>是对一组提供相同功能的<code>Pods</code>的抽象，并为它们提供一个统一的入口</strong>。</p>
<p>借助Service，应用可以方便的实现<strong>服务发现</strong>与<strong>负载均衡</strong>，并实现<strong>应用的零宕机升级</strong>。</p>
<ul>
<li><code>Service</code>通过标签来选取服务后端，一般配合<code>Replication Controller</code> 或者<code>Deployment</code>来保证后端容器的正常运行。</li>
<li><strong>这些匹配标签的<code>Pod IP</code>和<code>端口列表</code>组成<code>endpoints</code>，由<code>kube-proxy</code>负责将服务IP负载均衡到这些<code>endpoints</code>上。</strong></li>
</ul>
<p><strong><code>Service</code>同样是根据<code>Label Selector</code>来刷选<code>Pod</code>进行关联的，实际上k8s在<code>Service</code>和<code>Pod</code>之间通过<code>Endpoint</code>衔接，<code>Endpoints</code>同<code>Service</code>关联的<code>Pod</code>；相对应，可以认为是<code>Service</code>的服务代理后端，<code>k8s</code>会根据<code>Service</code>关联到<code>Pod</code>的<code>Pod IP</code> 信息组合成一个<code>Endpoints</code>。</strong></p>
<h2 id="30-deploymentrs">30 <code>deployment/rs</code>有什么区别。其使用方式、使用条件和原理是什么。</h2>
<p><code>Deployment</code>继承了<code>rc</code>的全部功能外，</p>
<p><mark>还可以查看<strong>升级详细进度</strong>和<strong>状态</strong>. 当升级出现问题的时候，可以使用<strong>回滚操作</strong>, 回滚到指定的版本，每一次对<code>Deployment</code>的操作，都会保存下来，变能方便的进行回滚操作了，另外对于<strong>每一次升级都可以随时暂停和启动</strong></mark></p>
<h3 id="_2"><strong>拥有多种升级方案：</strong></h3>
<ul>
<li><code>Recreate</code>删除现在的<code>Pod</code>，</li>
<li>重新创建；<code>RollingUpdate</code>滚动升级，逐步替换现有<code>Pod</code>，对于生产环境的服务升级，显然这是一种最好的方式</li>
</ul>
<p><strong>一个<code>Deployment</code>拥有多个<code>Replica Set</code>，而一个<code>Replica Set</code>拥有一个或多个<code>Pod</code>。</strong></p>
<p><strong>一个<code>Deployment</code>控制多个<code>rs</code>主要是为了支持回滚机制，每当<code>Deployment</code>操作时，<code>Kubernetrs</code>会重新生成一个<code>Replica Set</code>并保留，以后有需要的话就可以回滚至之前的状态</strong></p>
<h4 id="_3">使用方式:</h4>
<ul>
<li>滚动升级<code>Deployment</code></li>
</ul>
<pre><code>spec:
  minReadySeconds: 5
  strategy:
    # indicate which strategy we want for rolling update
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
</code></pre>
<ul>
<li><code>rollout</code>滚动升级<code>Deployment</code></li>
</ul>
<pre><code># check
$ kubectl rollout status deployment/nginx-deploy

# pause
$ kubectl rollout pause deployment &lt;deployment&gt;

# resume
$ kubectl rollout resume deployment &lt;deployment&gt;
</code></pre>
<ul>
<li><code>rollback</code>滚动升级<code>Deployment</code></li>
</ul>
<pre><code># check history
$ kubectl rollout history deployment nginx-deploy
deployments &quot;nginx-deploy&quot;
REVISION  CHANGE-CAUSE
1         &lt;none&gt;
2         &lt;none&gt;

# roll back with specific history
$ kubectl rollout history deployment nginx-deploy --revision=2

# roll back last one directly
$ kubectl rollout undo deployment nginx-deploy

# roll back to version x directly
$ kubectl rollout undo deployment nginx-deploy --to-revision=2
</code></pre>
<h2 id="31-statefulsetdeployment"><strong>31 StatefulSet和Deployment的区别</strong></h2>
<p><strong>“Deployment用于部署无状态服务，StatefulSet用来部署有状态服务”。</strong></p>
<h3 id="_4"><strong>无状态的应用</strong></h3>
<ul>
<li><strong>pod之间没有顺序</strong></li>
<li><strong>所有pod共享存储</strong></li>
<li><strong>pod名字包含随机数字</strong></li>
<li>service都有<code>ClusterIP</code>,<strong>可以负载均衡</strong></li>
</ul>
<h3 id="_5"><strong>有状态的应用</strong></h3>
<ul>
<li><strong>部署、扩展、更新、删除都要有顺序</strong></li>
<li>每<strong>个pod都有自己存储，所以都用volumeClaimTemplates，为每个pod都生成一个自己的存储，保存自己的状态</strong></li>
<li><strong>pod名字始终是固定的</strong></li>
<li>service没有ClusterIP，<strong>是<code>headlessservice</code>，所以无法负载均衡，返回的都是pod名，所以pod名字都必须固定</strong>，<ul>
<li><code>StatefulSet</code>在<code>Headless Service</code>的基础上又为StatefulSet控制的每个Pod副本创建了一个DNS域名:<code>$(podname).(headless server name).namespace.svc.cluster.local</code></li>
</ul>
</li>
</ul>
<h2 id="32-daemonset"><strong>32、 DaemonSet资源对象的特性？</strong></h2>
<p><strong>DaemonSet这种资源对象会在每个k8s集群中的节点上运行，并且每个节点只能运行一个pod，这是它和deployment资源对象的最大也是唯一的区别</strong>。所以，在其yaml文件中，不支持定义replicas，除此之外，与Deployment、RS等资源对象的写法相同。</p>
<p>它的一般使用场景如下：</p>
<ul>
<li><strong>在去做每个节点的日志收集工作；</strong></li>
<li><strong>监控每个节点的的运行状态；</strong></li>
</ul>
<h2 id="33-pod"><strong>33、 创建一个pod的流程是什么？</strong></h2>
<ul>
<li>客户端提交Pod的配置信息（可以是yaml文件定义好的信息）到<code>kube-apiserver</code>；</li>
<li><code>Apiserver</code>收到指令后，通知给controller-manager创建一个资源对象；</li>
<li><strong><code>Controller-manager</code>通过<code>api-server</code>将pod的配置信息存储到ETCD数据中心中；</strong></li>
<li>Kube-scheduler检测到pod信息会开始调度预选，会先过滤掉不符合Pod资源配置要求的节点，然后开始调度调优，主要是挑选出更适合运行pod的节点，然后将pod的资源配置单发送到node节点上的kubelet组件上。</li>
<li><strong>Kubelet根据scheduler发来的资源配置单运行pod，运行成功后，将pod的运行信息返回给scheduler，scheduler将返回的pod运行状况的信息存储到etcd数据中心。</strong></li>
</ul>
<h2 id="34-pod"><strong>34、 删除一个Pod会发生什么事情？</strong></h2>
<p>答：Kube-apiserver会接受到用户的删除指令，默认有30秒时间等待优雅退出，超过30秒会被标记为死亡状态，此时Pod的状态Terminating，kubelet看到pod标记为Terminating就开始了关闭Pod的工作；</p>
<p>关闭流程如下：</p>
<ul>
<li>pod从service的endpoint列表中被移除；</li>
<li>如果该pod定义了一个停止前的钩子，其会在pod内部被调用，停止钩子一般定义了如何优雅的结束进程；</li>
<li>进程被发送TERM信号（kill -14）</li>
<li>当超过优雅退出的时间后，Pod中的所有进程都会被发送SIGKILL信号<code>（kill -9）</code>。</li>
</ul>
<h2 id="kubernetesk8s-kubectl">Kubernetes(k8s)-常用命令(kubectl命令)</h2>
<h3 id="_6">获取资源信息</h3>
<pre><code>Kubectl get &lt;resource&gt;: 

列出某种类型的所有资源。例如，kubectl get pods 会列出默认命名空间所有的 Pods。
</code></pre>
<p>当然这个查询只能查询到最一些名字，时间等比较简单的信息。如果想要查询比较详细的信息则可以使用 <code>-o yaml（也可以是json） 参数</code>，我们前面讲过的备份也是通过这个参数。</p>
<pre><code>kubectl get pod  etcd-master01 -n kube-system  -o yaml
</code></pre>
<p>我们在查询Pod的时候，有的时候并知道他在哪个命名空间，则我们可以使用-A参数(早期的版本还需要必须使用<code>--all-namespaces</code>参数)，然后使用grep方式进行过滤。</p>
<pre><code>kubectl get pod -A |grep apiserver
</code></pre>
<p>还有的是需要确定Pod对应的节点等信息，可以添加<code>-o wide</code>参数。</p>
<pre><code>kubectl get pod -o wide
</code></pre>
<p><code>kubectl describe &lt;resource&gt; &lt;name&gt;</code>：显示某个具体资源的详细信息。</p>
<p>例如，<code>kubectl describe pod my-pod</code>。这个主要用于查询资源的event事件，进行检查资源状态</p>
<p><strong>以上无论是get还是describe，后面的资源类型我们前面讲过的大部分资源都可以使用。具体哪些资源可以使用 kubectl api-resources获取。</strong></p>
<h3 id="_7">创建和更新资源</h3>
<pre><code>kubectl apply -f &lt;file&gt;: 根据指定的 YAML 或 JSON 文件创建或更新资源。
</code></pre>
<p>例如，<code>kubectl apply -f deployment.yaml</code>，<strong>可用于创建和更新</strong>。</p>
<p><code>kubectl create -f &lt;file&gt;</code>: 根据指定的 YAML 或 JSON 文件创建资源。与 apply 不同，create 仅用于创建操作。</p>
<p><strong><code>kubectl edit &lt;resource&gt; &lt;name&gt;:</code> 编辑集群中的资源。</strong></p>
<p>这将打开一个文本编辑器供您修改当前资源的配置。</p>
<p><strong><code>kubectl patch &lt;resource&gt; &lt;name&gt;</code>：</strong></p>
<p>更新某部分资源，这里的资源一般是这个更新这个资源的局部信息，比如更新副本数量：</p>
<pre><code>kubectl patch deployment/my-deployment --type='merge' -p '{&quot;spec&quot;:{&quot;replicas&quot;:3}}'
</code></pre>
<p><strong>删除资源</strong></p>
<p><code>kubectl delete &lt;resource&gt; &lt;name&gt;:</code> 删除某个具体资源。</p>
<p>例如，<code>kubectl delete pod my-pod</code></p>
<p><strong><code>kubectl delete -f &lt;file&gt;</code>: 根据指定的 YAML 或 JSON 文件删除资源。</strong></p>
<p><strong>与 Pod 和容器交互</strong></p>
<pre><code>kubectl exec &lt;pod&gt; -- &lt;command&gt;: 在指定的 Pod 中执行命令，也可以使用bash进入容器。
</code></pre>
<p>例如，<code>kubectl exec my-pod -- ls /</code>会在 my-pod 中执行 <code>ls /</code>。</p>
<p><code>kubectl logs &lt;pod&gt;</code>: 获取 Pod 中容器的日志。如果 Pod 有多个容器，则需使用 <code>-c &lt;container&gt;</code> 指定容器。</p>
<p><strong><code>kubectl attach &lt;pod&gt;</code>: 附加到正在运行的容器以查看输出流或交云控制台。</strong></p>
<p><strong><code>kubectl port-forward &lt;pod&gt; &lt;local-port&gt;:&lt;pod-port&gt;</code>: 将本地端口转发到 Pod 中的端口。</strong></p>
<p><strong>管理集群</strong></p>
<ul>
<li><code>kubectl config view</code>: 查看 kubectl 的配置信息，包括集群、用户和上下文。</li>
<li><code>kubectl top &lt;node|pod&gt;</code>: 显示节点或 Pod 的 CPU 和内存使用情况，需要安装监控组件才可以用。</li>
</ul>
<p><strong>管理节点</strong></p>
<p><code>kubectl cordon</code>：隔离节点，避免新Pod调度过来，用于维护服务器前准备工作。</p>
<p><code>kubectl uncordon</code>：取消隔离，重新开放调度，维护结束以后恢复服务器。</p>
<p><code>kubectl drain</code>：驱逐Pod，用于移除当前节点的Pod，才能对节点进行操作具体的维护操作。</p>
<p><code>kubectl taint</code>：污点操作，用于控制节点的污点添加与删除，合理的进行调度。</p>
<p><code>kubeclt label</code>：标签操作，用于操作资源的标签添加或者删除</p>
<pre><code>#添加标签
kubectl label &lt;resource-type&gt; &lt;resource-name&gt; &lt;label-key&gt;=&lt;label-value&gt;

#删除标签
kubectl label &lt;resource-type&gt; &lt;resource-name&gt; &lt;label-key&gt;-
</code></pre>
<p><strong>其他命令</strong></p>
<pre><code>kubectl rollout status &lt;resource&gt;/&lt;name&gt;: 查看资源的部署状态。

例如，kubectl rollout status deployment/my-deployment。

kubectl rollout undo &lt;resource&gt;/&lt;name&gt;: 回滚资源到之前的状态。

例如，kubectl rollout undo deployment/my-deployment。

kubectl scale &lt;resource&gt;/&lt;name&gt; --replicas=&lt;num&gt;: 缩放资源的副本数。
例如，kubectl scale deployment/my-deployment --replicas=3。
</code></pre>
<pre><code>#更新镜像，使用较多的命令
kubectl set image &lt;resource&gt;/&lt;name&gt; &lt;container_name&gt;=&lt;new_image&gt;:&lt;tag&gt;
kubectl set image deployment/my-deployment my-container=nginx:1.19
</code></pre>
<pre><code>kubectl
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new
Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and
label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes
  events          List events

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh, fish, or
powershell)

Subcommands provided by plugins:

Other Commands:
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of &quot;group/version&quot;
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]
</code></pre>
<h2 id="vpa-vs-qos">VPA vs QOS</h2>
<h3 id="how-vpa-works">How VPA Works</h3>
<p><strong>1. Resource Recommendations:</strong></p>
<ul>
<li>VPA monitors the resource usage (CPU and memory) of Pods over time.</li>
<li>It provides recommendations for adjusting the resource <strong>requests (and optionally limits)</strong> of Pods to better match their actual usage.</li>
</ul>
<p><strong>2.Pod Updates:</strong></p>
<ul>
<li>VPA can automatically update the Pod's resource requests by recreating the Pod with the new values.</li>
<li>Alternatively, it can provide recommendations that you manually apply.</li>
</ul>
<h3 id="impact-on-qos-classes">Impact on QoS Classes</h3>
<p>Kubernetes assigns a <strong>QoS class</strong> to each Pod based on its resource requests and limits:</p>
<p><strong>Guaranteed:</strong></p>
<p>Both CPU and memory requests and limits are set, and they are equal.</p>
<p>Highest priority.</p>
<p><strong>Burstable:</strong></p>
<p>At least one resource (CPU or memory) has a request set, but the request and limit are not equal.</p>
<p>Medium priority.</p>
<p><strong>BestEffort:</strong></p>
<p>No resource requests or limits are set.</p>
<p>Lowest priority.</p>
<h3 id="how-vpa-affects-qos">How VPA Affects QoS</h3>
<ul>
<li>
<p><strong>Changing Requests:</strong></p>
<ul>
<li>VPA modifies the resource <strong>requests</strong> of Pods based on usage.</li>
<li>If VPA increases or decreases the requests, it can change the Pod's QoS class:<ul>
<li>A Pod might move from <strong>Burstable to Guaranteed</strong> if VPA sets equal requests and limits.</li>
<li>A Pod might move from <strong>Guaranteed to Burstable</strong> if VPA adjusts requests to be different from limits.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Changing Limits:</strong></p>
<ul>
<li>If VPA is configured to update <strong>limits (not just requests)</strong>, it can also affect the QoS class.</li>
<li>For example, if VPA sets limits equal to requests, the Pod will move to Guaranteed.</li>
</ul>
</li>
<li>
<p>BestEffort Pods:</p>
<ul>
<li>VPA does not directly affect BestEffort Pods because they have no resource requests or limits.</li>
<li>However, if VPA adds <strong>requests to a BestEffort Pod</strong>, it will transition to Burstable.</li>
</ul>
</li>
</ul>
<h3 id="key-considerations">Key Considerations</h3>
<p><strong>QoS Class Changes:</strong></p>
<ul>
<li>
<p>If VPA modifies resource requests or limits, the Pod's QoS class might change, which can affect its scheduling and eviction behavior.</p>
</li>
<li>
<p>For example, Guaranteed Pods are less likely to be evicted under resource pressure compared to Burstable or BestEffort Pods.</p>
</li>
</ul>
<p><strong>Pod Restarts:</strong></p>
<p>VPA typically recreates Pods to apply new resource requests or limits. This can cause temporary downtime.</p>
<p><strong>Resource Limits:</strong></p>
<p>By default, <strong>VPA only adjusts requests. If you want it to adjust limits, you need to enable the <code>--vpa-update-mode=Auto</code> or <code>--vpa-update-mode=Recreate</code> flag and configure it accordingly</strong>.</p>
<p><strong>Performance Impact:</strong></p>
<ul>
<li>If VPA reduces resource requests too aggressively, Pods might experience resource contention or throttling.</li>
<li>If VPA increases resource requests, it might lead to over-provisioning and higher cluster costs</li>
</ul>
<h3 id="example-scenario">Example Scenario</h3>
<p>Suppose you have a Pod with the following resource configuration:</p>
<pre><code>resources:
  requests:
    cpu: &quot;100m&quot;
    memory: &quot;128Mi&quot;
  limits:
    cpu: &quot;200m&quot;
    memory: &quot;256Mi&quot;
</code></pre>
<p>This Pod is classified as Burstable because the requests and limits are not equal.</p>
<p><strong>If VPA adjusts the requests to:</strong></p>
<pre><code>resources:
  requests:
    cpu: &quot;200m&quot;
    memory: &quot;256Mi&quot;
  limits:
    cpu: &quot;200m&quot;
    memory: &quot;256Mi&quot;
</code></pre>
<p><strong>The Pod will now be classified as Guaranteed because the requests and limits are equal.</strong></p>
<h3 id="best-practices"><strong>Best Practices</strong></h3>
<p><strong>Monitor QoS Changes:</strong></p>
<p>Keep an eye on the QoS class of your Pods after VPA adjustments to ensure they align with your performance and reliability requirements.</p>
<p><strong>Use VPA with Caution:</strong></p>
<ul>
<li>
<p>Test VPA in a non-production environment before enabling it in production.</p>
</li>
<li>
<p>Use the <code>--vpa-update-mode=Off</code> flag to get recommendations without automatically applying them.</p>
</li>
</ul>
<p><strong>Set Resource Limits:</strong></p>
<p>Explicitly set resource limits to prevent VPA from over-provisioning resources.</p>
<p><strong>Combine with HPA:</strong></p>
<p>Use VPA in conjunction with the Horizontal Pod Autoscaler (HPA) for a more comprehensive scaling strategy.</p>
<p>Yes, VPA can affect the QoS class of Pods by modifying their resource requests and limits. This can change the Pod's priority and behavior under resource pressure. To avoid unexpected issues, carefully monitor VPA's recommendations and test its impact on your workloads. </p>
<h2 id="k8s">K8s 故障解决</h2>
<h3 id="1_3">1、问题现象与背景</h3>
<p>某电商平台生产环境的Kubernetes集群在促销活动期间突发大规模Pod驱逐，具体表现如下：</p>
<ol>
<li>Pod频繁重启：<strong>超过30%的Pod进入Evicted状态，核心服务（如订单支付、购物车）的Pod被反复驱</strong></li>
<li>节点资源耗尽：<strong>多个Worker节点的内存使用率超过95%，kubelet日志持续输出MemoryPressure警告</strong>。</li>
<li>监控告警：<ul>
<li>Prometheus触发<code>node_memory_available_bytes &lt; 10%</code>告警。 </li>
<li>Grafana面板显示部分节点的<code>kubelet_evictions</code>指标飙升。</li>
</ul>
</li>
<li>Grafana面板显示部分节点的<code>kubelet_evictions</code>指标飙升。</li>
</ol>
<h3 id="2_3">2、问题根因分析</h3>
<ul>
<li><strong>1. 初步排查：节点与Pod状态</strong></li>
</ul>
<pre><code># 查看节点资源使用情况（按内存排序）
kubectl top nodes --sort-by=memory


# 输出示例：
NAME           CPU(cores)  CPU%   MEMORY(bytes)  MEMORY%
worker-node-1  5800m       72%    6143Mi         98%
worker-node-2  4200m       52%    5892Mi         95%
worker-node-3  3800m       47%    4321Mi         70%

# 检查被驱逐的Pod
kubectl get pods -A -o wide | grep Evicted | wc -l  # 输出：47

# 查看某个被驱逐Pod的详细事件
kubectl describe pod payment-service-abcde -n production
</code></pre>
<p>关键日志：</p>
<pre><code>Events:
  Type     Reason     Age   From               Message
  ----     ------     ----  ----               -------
  Warning  Evicted    2m    kubelet            The node was low on resource: memory.
  Normal   Killing    2m    kubelet            Stopping container payment-service
</code></pre>
<p><strong>结论：节点内存不足触发kubelet的主动驱逐机制。</strong></p>
<ul>
<li><strong>2. 深入定位：资源消耗来源</strong></li>
</ul>
<p>步骤1：识别高内存消耗Pod</p>
<pre><code># 按内存使用量排序所有Pod
kubectl top pods -A --sort-by=memory --use-protocol-buffers

# 输出示例：
NAMESPACE    POD_NAME                     MEMORY(Mi)
production   recommendation-service-xyz   1024
production   payment-service-abc          896
logging      fluentd-7k8jh                512
</code></pre>
<p><strong>发现：<code>recommendation-service</code>的Pod内存占用异常高。</strong></p>
<p>步骤2：检查Pod资源限制配置</p>
<pre><code>kubectl get pod recommendation-service-xyz -n production -o yaml | grep -A 5 resources

# 输出示例：
resources:
  requests:
    cpu: &quot;500m&quot;
  limits:
    cpu: &quot;1000m&quot;
</code></pre>
<p><strong>问题：该Pod未设置内存限制（<code>limits.memory</code>缺失），导致内存泄漏时无约束。</strong></p>
<p>步骤3：分析容器内存使用</p>
<pre><code># 进入节点查看容器级内存占用（需SSH登录节点）
docker stats --format &quot;table {{.Container}}\t{{.Name}}\t{{.MemUsage}}&quot;

# 输出示例：
CONTAINER   NAME                      MEM USAGE
a1b2c3d4    recommendation-service    1.2GiB / 1.2GiB
</code></pre>
<p><strong>发现：容器内存占用已突破1GiB，但未配置<code>limits.memory</code>，导致节点内存耗尽</strong>。</p>
<h3 id="3_4">3、紧急处理措施</h3>
<h4 id="1_4"><strong>1. 快速扩容与负载分流</strong></h4>
<p>横向扩展节点：</p>
<pre><code># 使用Cluster Autoscaler自动扩容（假设配置了节点组）
kubectl scale deployment cluster-autoscaler --replicas=3 -n kube-system
</code></pre>
<h4 id="2-pod">2 临时调整Pod副本数：</h4>
<pre><code># 减少非核心服务副本数，释放资源
kubectl scale deployment batch-job-processor --replicas=0 -n background

# 增加核心服务副本数，分散负载
kubectl scale deployment payment-service --replicas=10 -n production
</code></pre>
<h3 id="2-pod_1">2. 手动驱逐问题Pod</h3>
<pre><code># 强制删除高内存占用的Pod（触发重新调度）
kubectl delete pod recommendation-service-xyz -n production --force --grace-period=0

# 观察Pod重建后的内存使用
watch -n 1 &quot;kubectl top pods -n production | grep recommendation-service&quot;
</code></pre>
<h3 id="3-kubelet_1">3. 动态调整kubelet驱逐阈值</h3>
<pre><code># 临时修改kubelet配置（避免更多Pod被驱逐）
sudo vi /etc/kubernetes/kubelet.conf
# 添加参数：
evictionHard:
  memory.available: &quot;10%&quot;
  nodefs.available: &quot;5%&quot;

# 重启kubelet
sudo systemctl restart kubelet
</code></pre>
<h2 id="2_4">2、根因修复与长期优化</h2>
<h3 id="1_5">1. 资源配额规范化</h3>
<p>为所有Pod添加内存限制：</p>
<pre><code># deployment.yaml示例
apiVersion: apps/v1
kind: Deployment
metadata:
  name: recommendation-service
spec:
  template:
    spec:
      containers:
      - name: app
        resources:
          requests:
            memory: &quot;512Mi&quot;
            cpu: &quot;500m&quot;
          limits:
            memory: &quot;1024Mi&quot;  # 硬性限制内存上限
            cpu: &quot;2000m&quot;
</code></pre>
<h4 id="resourcequota"><strong>启用命名空间级ResourceQuota：</strong></h4>
<pre><code>apiVersion: v1
kind: ResourceQuota
metadata:
  name: production-quota
  namespace: production
spec:
  hard:
    requests.memory: &quot;100Gi&quot;
    limits.memory: &quot;200Gi&quot;
    pods: &quot;200&quot;
</code></pre>
<h3 id="2_5">2. 自动化弹性伸缩</h3>
<h4 id="hpa"><strong>配置HPA（基于内存）</strong></h4>
<pre><code>kubectl autoscale deployment recommendation-service -n production \
  --cpu-percent=70 \
  --memory-percent=80 \
  --min=3 \
  --max=20
</code></pre>
<h4 id="vpa">使用VPA（垂直扩缩容)</h4>
<pre><code>apiVersion: autoscaling.k8s.io/v1
kind: VerticalPodAutoscaler
metadata:
  name: recommendation-service-vpa
spec:
  targetRef:
    apiVersion: &quot;apps/v1&quot;
    kind: Deployment
    name: recommendation-service
  updatePolicy:
    updateMode: &quot;Auto&quot;
</code></pre>
<h4 id="3_5">3. 内存泄漏根治</h4>
<p><strong>使用pprof进行堆分析（以Go服务为例）：</strong></p>
<pre><code>import _ &quot;net/http/pprof&quot;

func main() {
  go func() {
    log.Println(http.ListenAndServe(&quot;:6060&quot;, nil))
  }()
  // 业务代码
}
</code></pre>
<pre><code>import _ &quot;net/http/pprof&quot;

func main() {
  go func() {
    log.Println(http.ListenAndServe(&quot;:6060&quot;, nil))
  }()
  // 业务代码
}
</code></pre>
<p><strong>优化代码逻辑</strong>：修复循环引用、缓存未释放等问题。</p>
<h3 id="5_2">5、监控与告警体系升级</h3>
<h4 id="1-prometheus">1. Prometheus监控规则</h4>
<pre><code># prometheus-rules.yaml
groups:
- name: Kubernetes-Resource
  rules:
  - alert: NodeMemoryPressure
    expr: (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 &gt; 85
    for: 5m
    labels:
      severity: critical
    annotations:
      summary: &quot;节点内存不足 ({{ $labels.instance }})&quot;
      description: &quot;节点 {{ $labels.instance }} 内存使用率超过85%，当前值 {{ $value }}%&quot;

  - alert: PodEvictionRateHigh
    expr: rate(kube_pod_status_evicted[1h]) &gt; 0
    for: 10m
    labels:
      severity: warning
</code></pre>
<p><strong>2. Grafana可视化面板</strong></p>
<p><strong>关键面板配置：</strong></p>
<ul>
<li>节点资源视图：<code>node_memory_available_bytes、node_cpu_usage</code></li>
<li>Pod驱逐统计：<code>sum(kube_pod_status_evicted) by (namespace)</code></li>
<li>HPA伸缩历史：<code>kube_horizontalpodautoscaler_status_current_replicas</code></li>
</ul>
<p><strong>3. 日志聚合分析</strong></p>
<p>Fluentd + Elasticsearch配置：</p>
<pre><code>&lt;match kube.**&gt;
  @type elasticsearch
  host elasticsearch.production.svc
  port 9200
  logstash_format true
  logstash_prefix k8s
&lt;/match&gt;
</code></pre>
<p>关键日志筛选：</p>
<pre><code># Kibana查询被驱逐Pod的日志
kubernetes.labels.app: &quot;payment-service&quot; AND message: &quot;Evicted&quot;
</code></pre>
<h3 id="6_2">6、预防与容灾演练</h3>
<h4 id="1_6"><strong>1. 混沌工程实践</strong></h4>
<p>模拟节点故障（使用Chaos Mesh）：</p>
<pre><code>apiVersion: chaos-mesh.org/v1alpha1
kind: NodeFailure
metadata:
  name: node-failure-test
spec:
  action: shutdown
  duration: &quot;10m&quot;
  selector:
    nodes:
    - worker-node-1
</code></pre>
<p>验证集群自愈能力：</p>
<ul>
<li>观察Pod是否自动迁移到健康节点。</li>
<li>检查HPA是否按负载自动扩展。</li>
</ul>
<h4 id="2_6">2. 定期压力测试</h4>
<p>使用Locust模拟流量高峰</p>
<pre><code>from locust import HttpUser, task

class PaymentUser(HttpUser):
    @task
    def create_order(self):
        self.client.post(&quot;/api/order&quot;, json={&quot;items&quot;: [...]})
</code></pre>
<pre><code>locust -f load_test.py --headless -u 1000 -r 100
</code></pre>
<h4 id="3_6">3. 架构优化</h4>
<p><strong>服务网格化：通过Istio实现熔断和降级。</strong></p>
<pre><code>apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: payment-service
spec:
  host: payment-service.production.svc.cluster.local
  trafficPolicy:
    outlierDetection:
      consecutiveErrors: 5
      interval: 1m
      baseEjectionTime: 3m
</code></pre>
<p><strong>解决效果：</strong></p>
<ul>
<li>紧急措施在30分钟内恢复核心服务，Pod驱逐率降至0。</li>
<li>通过内存限制和HPA配置，集群资源利用率稳定在70%-80%。</li>
<li>后续3个月未发生类似事件，故障MTTR（平均修复时间）从4小时缩短至15分钟。</li>
</ul>
<p><strong>关键经验：</strong></p>
<ol>
<li><strong>防御性编码</strong>：<strong>所有服务必须设置资源limits，并在CI/CD流水线中强制检查</strong>。</li>
<li><strong>监控全覆盖</strong>：从节点到Pod层级的资源监控需实现100%覆盖。</li>
<li><strong>自动化优先</strong>：依赖Cluster Autoscaler、HPA等自动化工具，减少人工干预。</li>
<li><strong>定期演练</strong>：通过混沌工程暴露系统脆弱点，持续优化架构韧性。</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>